<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.1//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Installing HEALPix</TITLE>
<META NAME="description" CONTENT="Installing HEALPix">
<META NAME="keywords" CONTENT="install">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<meta name="viewport" content="width=device-width, initial-scale=1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="install.css">

</HEAD>

<BODY >

<DIV CLASS="navigation"><body text="#000000" bgcolor="#FFFFFA">
<!--Navigation Panel-->
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev_g.png"> 
<A NAME="tex2html128"
  HREF="main.htm">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html126"
  HREF="main.htm">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="nx_grp.png"></A>   
<BR>
<B>Up:</B> <A NAME="tex2html129"
  HREF="main.htm">Main Page</A>

<B> Next:</B> <A NAME="tex2html127"
  HREF="main.htm">Main Page</A>
<B> Top:</B> <a href="main.htm">Main Page</a></DIV>
<!--End of Navigation Panel-->

<P>



<P>
<H1 ALIGN=CENTER><b>HEALPix</b> Facility Installation Guidelines</H1>
<div id=abstract align=center>This document describes the installation for the <b>HEALPix</b> facilities.</div>
<P ALIGN=CENTER><STRONG>Eric Hivon, Anthony J.&nbsp;Banday, Matthias Bartelmann, Benjamin D.&nbsp;Wandelt,
Frode K.&nbsp;Hansen and Krzysztof M.&nbsp;G&#243;rski</STRONG></P>
<BR><P ALIGN=CENTER><I>Revision: </I>Version 3.31; August 26, 2016</P>
<P ALIGN=CENTER><A NAME="tex2html1"
  HREF="http://healpix.sf.net">http://healpix.sf.net</A></P>

<BR>

<H2><A NAME="SECTION00010000000000000000">
TABLE OF CONTENTS</A>
</H2>
<!--Table of Contents-->

<UL CLASS="TofC">
<LI><A NAME="tex2html175"
  HREF="install.htm#SECTION00010000000000000000">TABLE OF CONTENTS</A>
<LI><A NAME="tex2html176"
  HREF="install.htm#SECTION00020000000000000000">Introduction</A>
<LI><A NAME="tex2html177"
  HREF="install.htm#SECTION00030000000000000000">Installation Requirements</A>
<LI><A NAME="tex2html178"
  HREF="install.htm#SECTION00040000000000000000">healpix_doc: an easy access to HEALPix documentation</A>
<LI><A NAME="tex2html179"
  HREF="install.htm#SECTION00050000000000000000">The Installation Procedure</A>
<UL>
<LI><A NAME="tex2html180"
  HREF="install.htm#SECTION00051000000000000000">./configure [-L]</A>
<UL>
<LI><A NAME="tex2html181"
  HREF="install.htm#SECTION00051100000000000000">Configuration profile</A>
<LI><A NAME="tex2html182"
  HREF="install.htm#SECTION00051200000000000000">C configuration</A>
<LI><A NAME="tex2html183"
  HREF="install.htm#SECTION00051300000000000000">C++ configuration</A>
<LI><A NAME="tex2html184"
  HREF="install.htm#SECTION00051400000000000000">Fortran 90 configuration</A>
<LI><A NAME="tex2html185"
  HREF="install.htm#SECTION00051500000000000000">IDL/GDL configuration</A>
<LI><A NAME="tex2html186"
  HREF="install.htm#SECTION00051600000000000000">Java installation</A>
<LI><A NAME="tex2html187"
  HREF="install.htm#SECTION00051700000000000000">Python (healpy) installation</A>
</UL>
<LI><A NAME="tex2html188"
  HREF="install.htm#SECTION00052000000000000000">Compilation and installation</A>
<LI><A NAME="tex2html189"
  HREF="install.htm#SECTION00053000000000000000">Testing the installation</A>
<LI><A NAME="tex2html190"
  HREF="install.htm#SECTION00054000000000000000">Cleaning up</A>
</UL>
<BR>
<LI><A NAME="tex2html191"
  HREF="install.htm#SECTION00060000000000000000">A Note on Re-installation</A>
<LI><A NAME="tex2html192"
  HREF="install.htm#SECTION00070000000000000000">Pkg-config files</A>
<LI><A NAME="tex2html193"
  HREF="install.htm#SECTION00080000000000000000">Troubleshooting and further information</A>
<UL>
<LI><A NAME="tex2html194"
  HREF="install.htm#SECTION00081000000000000000">Free Fortran90/95 Compilers</A>
<LI><A NAME="tex2html195"
  HREF="install.htm#SECTION00082000000000000000">Installation under Microsoft Windows</A>
<UL>
<LI><A NAME="tex2html196"
  HREF="install.htm#SECTION00082100000000000000">Installation on Windows 7 with Cygwin</A>
<LI><A NAME="tex2html197"
  HREF="install.htm#SECTION00082200000000000000">Other Windows configurations</A>
</UL>
<LI><A NAME="tex2html198"
  HREF="install.htm#SECTION00083000000000000000">Problems with CFITSIO</A>
<LI><A NAME="tex2html199"
  HREF="install.htm#SECTION00084000000000000000">diff shows that the test files are different from
the supplied files</A>
<LI><A NAME="tex2html200"
  HREF="install.htm#SECTION00085000000000000000">Try unlimit</A>
<LI><A NAME="tex2html201"
  HREF="install.htm#SECTION00086000000000000000">hidl usage</A>
<LI><A NAME="tex2html202"
  HREF="install.htm#SECTION00087000000000000000">Using HEALPix IDL together with other IDL libraries</A>
<LI><A NAME="tex2html203"
  HREF="install.htm#SECTION00088000000000000000">Mac OS X, X11 and IDL cursor</A>
<LI><A NAME="tex2html204"
  HREF="install.htm#SECTION00089000000000000000">Using GDL instead of IDL</A>
</UL>
<BR>
<LI><A NAME="tex2html205"
  HREF="install.htm#SECTION00090000000000000000">Appendix I: Recent Changes and New Features</A>
<UL>
<LI><A NAME="tex2html206"
  HREF="install.htm#SECTION00091000000000000000">Bug corrections and Improvements in Version 3.31</A>
<UL>
<LI><A NAME="tex2html207"
  HREF="install.htm#SECTION00091100000000000000">General</A>
<LI><A NAME="tex2html208"
  HREF="install.htm#SECTION00091200000000000000">C++</A>
<LI><A NAME="tex2html209"
  HREF="install.htm#SECTION00091300000000000000">Fortran 90 facilities
and subroutines</A>
<LI><A NAME="tex2html210"
  HREF="install.htm#SECTION00091400000000000000">IDL</A>
<LI><A NAME="tex2html211"
  HREF="install.htm#SECTION00091500000000000000">Python</A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html212"
  HREF="install.htm#SECTION000100000000000000000">Appendix II: Older changes (versions 3.00 to 3.30)</A>
</UL>
<!--End of Table of Contents-->

<P>

<H1><A NAME="SECTION00020000000000000000">
Introduction</A>
</H1>

<P>
In this document the installation procedure for the <b>HEALPix</b> 
distribution is outlined. <b>HEALPix</b> comprises a suite of Fortran 90, C++, 
IDL, Java and Python routines
providing both stand-alone facilities and callable subroutines as an alternative
for those users who wish to build their own tools.
A set of C subroutines and functions is also provided. 

<P>
The distribution can be downloaded as a gzipped tarred file, <EM>or</EM> as a zipped file,
which can respectively be unpacked by executing the commands<A NAME="tex2html2"
  HREF="installfootnode.htm#foot1369"><SUP><SPAN CLASS="arabic">1</SPAN></SUP></A> <BR>
<TT>% gunzip Healpix_3.31.tar.gz</TT>
<BR><TT>% tar -xpf Healpix_3.31.tar</TT>
<BR>
or 
<BR><TT>% tar -xzpf Healpix_3.31.tar.gz</TT>
<BR>
or 
<BR><TT>% unzip Healpix_3.31.zip</TT>
<BR>
creating a directory named <TT>Healpix_3.31</TT> whose structure is shown in Figure
<A HREF="#fig:dirtree">1</A>.

<P>

<DIV ALIGN="CENTER"><A NAME="page:dirtree"></A><A NAME="fig:dirtree"></A><A NAME="1372"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 1:</STRONG>
The directory structure for the <b>HEALPix</b> distribution. </CAPTION>
<TR><TD>
<DIV CLASS="centerline" ID="par4041" ALIGN="CENTER">
<IMG
  WIDTH="562" HEIGHT="478" ALIGN="BOTTOM" BORDER="0"
 SRC="./dir_tree.png"
 ALT="Image dir_tree"></DIV>

<P></TD></TR>
</TABLE>
</DIV>

<P>
As with most freely available software, the distribution
comes with caveats, the major one being that although we have attempted
to automate the installation as much as possible, not all eventualities
can ever be foreseen. We have tested the installation on the following 
platforms: <BR>
AIX, IRIX, IRIX64, Linux, SunOS, ALPHA and Darwin (MacOS) <BR>

<P>
There may be problems in the facility build due to the local system 
configuration which is beyond our control. 

<P>

<H1><A NAME="SECTION00030000000000000000"></A>
<A NAME="sec:requirements"></A>
<BR>
Installation Requirements
</H1>

<P>
<BR><P></P>
<DIV ALIGN="CENTER"><A NAME="1374"></A>
<TABLE>
<CAPTION><STRONG>Table 1:</STRONG>
  Documentation on the installation and usage of the different packages</CAPTION>
<TR><TD><TABLE CELLPADDING=3 BORDER="1">
<TR><TH ALIGN="LEFT" VALIGN="TOP" WIDTH=75><SPAN  CLASS="textbf">Healpix Package</SPAN></TH>
<TH ALIGN="LEFT" VALIGN="TOP" WIDTH=175><SPAN  CLASS="textbf">Information on installation</SPAN></TH>
<TH ALIGN="LEFT" VALIGN="TOP" WIDTH=200><SPAN  CLASS="textbf">Information on routines</SPAN></TH>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>
Fortran 90</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>This document</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200><A NAME="tex2html5"
  HREF="facilities.htm">''Fortran Facilities''</A>
and 
<A NAME="tex2html6"
  HREF="subroutines.htm">''Fortran Subroutines''</A>
documents</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>IDL/GDL</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>This document</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200><A NAME="tex2html7"
  HREF="idl.htm">''IDL Facilities''</A></TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>C++</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>This document, or  <TT>src/cxx/README.compilation</TT></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200><A NAME="tex2html8"
  HREF="index_cxx.html">''C++ Facilities and Subroutines''</A>
(HTML only)</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>C</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>This document, or  <TT>src/C/README</TT></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200><A NAME="tex2html9"
  HREF="csub.htm">''C Subroutines Overview''</A></TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>Java</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175><TT>src/java/README</TT></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200><A NAME="tex2html10"
  HREF="java/index.html">''Java Overview''</A>
(HTML only)</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>Python</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>This document, or  <TT>src/healpy/INSTALL</TT></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200><A NAME="tex2html11"
  HREF="http://healpy.github.com/healpy">''Healpy
Documentation''</A>
(HTML only)</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=75></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=175>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=200>&nbsp;</TD>
</TR>
</TABLE>
</TD></TR>
</TABLE>
</DIV><P></P>
<BR>

<P>
The major part of the <b>HEALPix</b> distribution is written in both <SPAN  CLASS="textbf">Fortran 90</SPAN> and <SPAN  CLASS="textbf">C++</SPAN> and
so the appropriate compiler(s) must be present (Linux and Darwin users should look
at Section&nbsp;<A HREF="#sec:freef90compilers">7.1</A> about free F90 compilers. Microsoft Windows
users should look at Section&nbsp;<A HREF="#sec:windows">7.2</A>). Many visualisation tools and map
manipulation routines are provided in <SPAN  CLASS="textbf">IDL</SPAN> (please note 
that at least version 6.4 is required), <SPAN  CLASS="textbf">Java</SPAN> and <SPAN  CLASS="textbf">Python</SPAN>. Some of the <b>HEALPix</b> routines are
also available in <SPAN  CLASS="textbf">C</SPAN>. 
<BR>
Starting with version 3.0, the
<A NAME="tex2html20"
  HREF="https://github.com/healpy/healpy">healpy</A>
(HEALPix in Python) library has been integrated into <b>HEALPix</b> releases. Since it
is, to a large extent, a
wrapper to the C++ routines, installing it also requires a C++ compiler (on top
of <TT>python</TT> and a few supporting Python libraries) but it will perform
its own compilation of the current <b>HEALPix</b> C++ library.

<P>
<EM>This section and the next focus on the compilation and installation of the
  <SPAN  CLASS="textbf">C</SPAN>, <SPAN  CLASS="textbf">C++</SPAN>, <SPAN  CLASS="textbf">Fortran&nbsp;90</SPAN>, <SPAN  CLASS="textbf">IDL</SPAN> and
<SPAN  CLASS="textbf">Python</SPAN> routines. For more information on the 
<SPAN  CLASS="textbf">Java</SPAN> routines see table&nbsp;<A HREF="#tab:allpackages">1</A></EM>

<P>
The configure script is written in the Bourne shell. The script
attempts to generate a <TT>Makefile</TT> which is tailored to one of 
the above Operating Systems (OS's) and using 
<TT>Makefile.in</TT> as a template for non system-specific statements. 
Only the basic UNIX make facility is required to build the software, although we do
still recommend the GNU make facility (<A NAME="tex2html21"
  HREF="ftp://ftp.gnu.org/gnu/make/"><TT>ftp://ftp.gnu.org/gnu/make/</TT></A>).
In addition, several environment configuration files and an IDL/GDL startup file are
generated. These automatically establish
various environment variables and aliases to make the use of the
<b>HEALPix</b> package simpler. 

<P>
The <b>HEALPix</b> <SPAN  CLASS="textbf">Fortran 90</SPAN>, <SPAN  CLASS="textbf">C++</SPAN>, <SPAN  CLASS="textbf">C</SPAN> and <SPAN  CLASS="textbf">Python</SPAN> distributions also
require the publicly available CFITSIO library. Note that the 
<SPAN  CLASS="textbf">Fortran 90</SPAN> routines require 
version 3.20 or more (post August 2009) 
of CFITSIO

<P>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TH ALIGN="LEFT" VALIGN="TOP" WIDTH=150><SPAN  CLASS="textbf">Software Package</SPAN></TH>
<TH ALIGN="LEFT" VALIGN="TOP" WIDTH=300><SPAN  CLASS="textbf">Source</SPAN></TH>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>
CFITSIO V 3.20 or more</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300><A NAME="tex2html13"
  HREF="http://heasarc.gsfc.nasa.gov/fitsio/"><TT>http://heasarc.gsfc.nasa.gov/fitsio/</TT></A></TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
</TABLE>
<BR>
<BR>
<BR>
<BR>

<P>
The <SPAN  CLASS="textbf">IDL</SPAN> visualization software is commercially
available at

<P>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TH ALIGN="LEFT" VALIGN="TOP" WIDTH=150><SPAN  CLASS="textbf">Software Package</SPAN></TH>
<TH ALIGN="LEFT" VALIGN="TOP" WIDTH=300><SPAN  CLASS="textbf">Source</SPAN></TH>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>
IDL V 6.4 or more</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300><A NAME="tex2html14"
  HREF="http://www.exelisvis.com/"><TT>http://www.exelisvis.com/</TT></A></TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
</TABLE>
<BR>
<BR>
<BR>
<BR>
while the GNU Data Language <SPAN  CLASS="textbf">GDL</SPAN>, a <EM>free</EM> clone of IDL 6.0, can also be used (with some
caveats, see &#167;<A HREF="#install:using_gdl">7.9</A>) and can be downloaded for free from

<P>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TH ALIGN="LEFT" VALIGN="TOP" WIDTH=150><SPAN  CLASS="textbf">Software Package</SPAN></TH>
<TH ALIGN="LEFT" VALIGN="TOP" WIDTH=300><SPAN  CLASS="textbf">Source</SPAN></TH>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>
GDL 0.9.6 or more</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300><A NAME="tex2html15"
  HREF="http://sourceforge.net/projects/gnudatalanguage"><TT>http://sourceforge.net/projects/gnudatalanguage</TT></A></TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
</TABLE>
<BR>
<BR>
<BR>
<BR>

<P>
As it was already the case in version 1.20, users no longer need to acquire the
<SPAN  CLASS="textbf">I</SPAN>DL
Astronomy User's Library (<A NAME="tex2html22"
  HREF="http://idlastro.gsfc.nasa.gov/homepage.html"><TT>http://idlastro.gsfc.nasa.gov/homepage.html</TT></A>)
or the COBE (IDL) Analysis Software (<A NAME="tex2html23"
  HREF="http://lambda.gsfc.nasa.gov/product/cobe/cgis.cfm"><TT>http://lambda.gsfc.nasa.gov/product/cobe/cgis.cfm</TT></A>),
although we do recommend these packages to the user.
The 100-odd routines required for version 3.31 are contained in the
subdirectory <TT>Healpix_3.31/src/idl/zzz_external</TT>.
These procedures are included in the <b>HEALPix</b> package unchanged and 
solely for the purpose of making it self contained. In this way,
we remove the burden of installation of additional libraries from 
the end user.

<P>
The  <SPAN  CLASS="textbf">Python</SPAN> <TT>healpy</TT> package requires

<P>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TH ALIGN="LEFT" VALIGN="TOP" WIDTH=150><SPAN  CLASS="textbf">Software Package</SPAN></TH>
<TH ALIGN="LEFT" VALIGN="TOP" WIDTH=300><SPAN  CLASS="textbf">Source</SPAN></TH>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>
Python 2.6, 2.7, or 3.2-3.5</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300><A NAME="tex2html16"
  HREF="http://www.python.org"><TT>http://www.python.org</TT></A></TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>Numpy 1.0.1 or more</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300><A NAME="tex2html17"
  HREF="http://numpy.scipy.org"><TT>http://numpy.scipy.org</TT></A></TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>Matplotlib 0.91.2 or more</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300><A NAME="tex2html18"
  HREF="http://matplotlib.sourceforge.net"><TT>http://matplotlib.sourceforge.net</TT></A></TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>PyFITS</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300><A NAME="tex2html19"
  HREF="http://www.stsci.edu/institute/software_hardware/pyfits"><TT>http://www.stsci.edu/institute/software_hardware/pyfits</TT></A></TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>&nbsp;</TD>
</TR>
</TABLE>
<BR>
<BR>
<BR>
<BR>

<P>
While not required, the 
<TT>IPython</TT> (<A NAME="tex2html24"
  HREF="http://ipython.org"><TT>http://ipython.org</TT></A>)
and 
<TT>Cython</TT> (<A NAME="tex2html25"
  HREF="http://cython.org"><TT>http://cython.org</TT></A>)
softwares can also be useful.

<P>
A parallel implementation (based on OpenMP, for shared memory architectures) of the Spherical Harmonics
Transforms involved in <SPAN  CLASS="textbf">F90</SPAN> <TT>synfast, anafast, smoothing, plmgen, alteralm</TT>
and <SPAN  CLASS="textbf">C++</SPAN>
<TT>synalm_cxx, alm2map_cxx, anafast_cxx, smoothing_cxx, rotalm_cxx </TT> ... is now
available by default and can be readily compiled and used with the standard installation script. 

<P>
A set of routines with MPI parallelization (for distributed memory architectures)
 is also available for Spherical Harmonics Transform, thanks to the work of H.K. Eriksen
 (UIO) and Snorre Boasson (ITEA, NTNU). See the <SPAN  CLASS="textbf">F90</SPAN>
 subroutines documentation for more information on how to use those routines in
 your code.

<P>
We found that it was remarkably difficult to find 
random number generators in the public
domain which are simple yet
powerful and easy to use. 
We are providing one (both in <SPAN  CLASS="textbf">C++</SPAN> and <SPAN  CLASS="textbf">F90</SPAN>) which is an adaptation of an xorshift generator described
 in Marsaglia (Journal of Statistical Software 2003, vol 8). It has a theoretical period of <!-- MATH
 $2^{128}-1 \approx 3.4\ 10^{38}$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="156" HEIGHT="39" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg1.png"
 ALT="$2^{128}-1 \approx 3.4\ 10^{38}$"></SPAN>.

<P>

<H1><A NAME="SECTION00040000000000000000">
<TT>healpix_doc</TT>: an easy access to <b>HEALPix</b> documentation</A>
</H1>
The shell script <TT>healpix_doc</TT> now is available to provide easy
access to the HTML and/or PDF documentation of <EM>all</EM> Healpix packages.
It will automatically open a web browser or PDF viewer (among those found on the
system) on the documentation
available locally (at <TT>$HEALPIX/doc</TT>) or on remote web sites. To use it, simply type
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; $HEALPIX/healpix_doc &nbsp;&nbsp;&nbsp;&nbsp; </tt>  
<BR>
or 
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; $HEALPIX/healpix_doc -p &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>
to access respectively the HTML and PDF documentation. The default browser and
viewer used by <TT>healpix_doc</TT> can <EM>optionally</EM> be set with the
environment variables
<TT>$HEALPIX_HTML_BROWSER</TT> and
<TT>$HEALPIX_PDF_VIEWER</TT>.

<P>

<H1><A NAME="SECTION00050000000000000000">
The Installation Procedure</A>
</H1>

<P>
If the user has one of the supported OS's, then installation proceeds utilizing
the following commands. If your OS is not supported, the configuration step
should be omitted, <TT>Makefile.in</TT> should be copied as <TT>Makefile</TT> and explicitly
tailored to the user environment.

<P>
<DIV ALIGN="RIGHT">
<TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150><TT>% ./configure</TT> <EM>[-L]</EM></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>uses <TT>Makefile.in</TT> as a template to build 
                         the correct Makefile (from user inputs as required), it
                         will also configure the IDL/GDL routines</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150><TT>% make</TT></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>builds all the facilities</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150><TT>% make test</TT></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>tests all the facility previously compiled</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150><TT>% make clean</TT></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>removes object (<TT>*.o</TT>) files</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150><TT>% make tidy</TT></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>removes object files, module files (<TT>*.mod</TT>), executables and libraries</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=150><TT>% make distclean</TT></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=300>same as above and restores the directories to the state of the 
                          original distribution</TD>
</TR>
</TABLE>
</DIV>
These different steps are detailed below.

<P>

<H2><A NAME="SECTION00051000000000000000">
./configure [-L]</A>
</H2>

<P>
The <TT>./configure</TT> script manages the configuration of the C, C++,
Fortran90, IDL and Python suites of routines and facilities.

<P>
Since v2.11, it accepts the <TT>-L</TT> option to write the <b>HEALPix</b> specific configuration files
into the <b>HEALPix</b> directory itself rather than in installer's home directory (see
&#167;&nbsp;<A HREF="#subsub:conf">4.1.1</A>).
Using the <TT>-L</TT> option is recommended when doing a <EM>project</EM> or <EM>system wide</EM> installation of
<b>HEALPix</b> to be accessed by several different users.

<P>
An online help is available with 
<TT>./configure&nbsp;-h</TT>, while 
<TT>./configure&nbsp;-v</TT> 
will return the <b>HEALPix</b> release number (currently 3.31) and exit.

<P>

<H3><A NAME="SECTION00051100000000000000"></A>
<A NAME="subsub:conf"></A>
<BR>
Configuration profile
</H3>
A feature introduced in previous releases and enhanced since v2.10, is that 
the configure script creates a shell configuration file 
<BR>(located in
<TT>${HOME}/.healpix/3_31 _</TT><EM><SPAN CLASS="MATH"><IMG
 WIDTH="12" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg2.png"
 ALT="$\langle$"></SPAN>OS_TYPE<SPAN CLASS="MATH"><IMG
 WIDTH="12" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg3.png"
 ALT="$\rangle$"></SPAN></EM><TT>/config</TT>
or in

<BR><TT>${HEALPIX}/confdir/3_31 _</TT><EM><SPAN CLASS="MATH"><IMG
 WIDTH="12" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg2.png"
 ALT="$\langle$"></SPAN>OS_TYPE<SPAN CLASS="MATH"><IMG
 WIDTH="12" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg3.png"
 ALT="$\rangle$"></SPAN></EM><TT>/config</TT>
if <TT>./configure -L</TT> was used)
according to shell
type in which various environment variables and aliases are defined
for your convenience. If you agree upon prompting, it will also
change your default system profile during installation to
automatically source this profile. If you do not agree to this change,
you will need to explicitly source the configuration file above for any session in
which you intend to run <b>HEALPix</b> facilities. <B>In particular, you will
have to make sure that the <TT>HEALPIX</TT> system variable is correctly
defined (as the full path to the <b>HEALPix</b> directory) before running
the package</B>.

<P>

<H3><A NAME="SECTION00051200000000000000">
C configuration</A>
</H3>

<P>
The <TT>./configure</TT> script will ask for the C compiler and options to
be used, and for the full path of an installed <TT>cfitsio</TT> library to link to.
By default, only a static library is created, but the user can also ask for
 a shared (Unix/Linux systems) or dynamic (Darwin) library. 
<BR>
After compilation
(see <TT>make</TT> section) and linking, all libraries will be 
in <TT>${HEALPIX}/lib/chealpix.*</TT> .

<P>

<H3><A NAME="SECTION00051300000000000000"></A>
<A NAME="sec:cpp_config"></A>
<BR>
C++ configuration
</H3>
Two options are available:
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 The interactive <TT>./configure</TT> script will 
ask for the full path to an installed <TT>cfitsio</TT> library to link to, and then provide a choice of
predefined targets corresponding to different combinations of C++ compilers and
options. Each of those targets is defined in a configuration file located in
<TT>Healpix_3.31/src/cxx/config/config.</TT><EM>target</EM>.
The user can therefore add new targets or edit existing ones, and the
<TT>./configure</TT> script will update its menu accordingly.
If a fairly recent version
(4.2 or higher) of gcc and g++ is installed on the system, the target
"generic_gcc" should always work, except under MacOSX, where ``osx'' target is
required.  
<BR>
The environment variables EXTERNAL_CFITSIO, 
CFITSIO_EXT_LIB, 
CFITSIO_EXT_INC and 
HEALPIX_TARGET 
will be set according to the choices made above.

<BR>
If the HEALPIX configuration file is sourced as described in &#167;&nbsp;<A HREF="#subsub:conf">4.1.1</A>, the full path to the C++
executables will be added to the environment PATH variable.

<P>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Starting with HEALPix 3.0, an automated (<TT>autoconf</TT> generated) <TT>configure</TT> script is 
available in <TT>Healpix_3.31/src/cxx/configure</TT>. To use it (and also make the compilation, and test it) 
do
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; cd src/cxx &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; ./configure &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; make &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; make test &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>
which will put the compilation products in <TT>Healpix_3.31/src/cxx/auto</TT>.
</DL>

<P>

<H3><A NAME="SECTION00051400000000000000">
Fortran 90 configuration</A>
</H3>
When you run <TT>./configure</TT> on a supported system 
you will be prompted to enter compiler optimisation flags.
We have not attempted to provide the best optimisation flags for all
operating systems. The configure
script will have a guess at optimisation options for some systems, but it
is up to the user to figure out an optimal set<A NAME="tex2html26"
  HREF="installfootnode.htm#foot1393"><SUP><SPAN CLASS="arabic">2</SPAN></SUP></A>. 
From our experience,
we have not found significant accumulation of numerical error even
when using the most aggressive optimisation level available. 
<BR>
If the HEALPIX configuration file is sourced as described in &#167;&nbsp;<A HREF="#subsub:conf">4.1.1</A>, the full path to the F90
executables will be added to the environment PATH variable.

<P>

<H3><A NAME="SECTION00051500000000000000"></A>
<A NAME="install:idlgdlconfig"></A><A NAME="install:idlgdlconfig"></A>
<BR>
IDL/GDL configuration
</H3>
You will be asked for the external applications you want to use to visualize the
Postscript and PNG files created by IDL (or GDL). 
<BR>
If the HEALPix configuration file is
sourced as described in &#167;&nbsp;<A HREF="#subsub:conf">4.1.1</A>, the aliases <TT>hidl</TT>, <TT>hidlde</TT>, <TT>hgdl</TT> and <TT>hgdlde</TT>
are also defined to give you access to HEALPIX routines from IDL (and GDL).
<BR>
See the <A NAME="tex2html27"
  HREF="idl.html"><b>HEALPix</b> IDL Document</A>
for more
information on using <b>HEALPix</b> IDL/GDL together with other IDL libraries.

<P>

<H3><A NAME="SECTION00051600000000000000">
Java installation</A>
</H3>
The configuration and installation of the Healpix Java package is currently
handled separately. See table&nbsp;<A HREF="#tab:allpackages">1</A> for more information.

<P>

<H3><A NAME="SECTION00051700000000000000">
Python (healpy) installation</A>
</H3>
The <TT>./configure</TT> script will ask for the Python command you want to use 
(in case many coexist on your computer) and will check that its version number meets the <TT>healpy</TT> requirements (see above).
Note that during the compilation with <TT>make</TT> (see below), the 
 <TT>src/healpy/setup.py</TT> Python script will be invoked to automatically prompt a <EM>fresh</EM> compilation of the
 <TT>src/cxx/*</TT> libraries, with all the options necessary to Python linkage, and
 can be done independently of the C++ installation described above.

<P>

<H2><A NAME="SECTION00052000000000000000">
Compilation and installation</A>
</H2>

<P>
The 
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; make &nbsp;&nbsp;&nbsp;&nbsp; </tt>  
<BR>
command will compile one or several of the C, C++, F90 and Python packages
depending on what was configured with the <TT>./configure</TT> script.
Specific packages can be compiled with the respective commands 
<PRE>
   make c-all
   make cpp-all
   make f90-all
   make healpy-all
</PRE>

<P>
To perform several compilation jobs simultaneously, the command <TT>make -j [jobs]</TT>
can be used.

<P>
Please neglect any possible warnings at compile time. If you run into
trouble please refer to the section <A HREF="#sec:troubleshoot"><B>Troubleshooting and further
information</B></A>.

<P>
After running <TT>make</TT>, the user must re-login to ensure that the new profiles built by the installation
procedure are correctly sourced. Only then will the
user have full access to the specific <b>HEALPix</b> 
environment variables etc.

<P>

<H2><A NAME="SECTION00053000000000000000">
Testing the installation</A>
</H2>

<P>
All installed libraries and executables can be tested with 
<PRE>
   make test
</PRE>

<P>
while specific tests of the C, C++ and Fortran products can be performed with,
respectively
<PRE>
   make c-test
   make cpp-test
   make f90-test
</PRE>
For the latter, Table&nbsp;<A HREF="#tab:f90_tests">2</A> lists the codes tested with the
parameter files used, as well as the data files produced and the respective
reference files.

<P>
<BR><P></P>
<DIV ALIGN="CENTER"><A NAME="1395"></A>
<TABLE>
<CAPTION><STRONG>Table 2:</STRONG>

 <SMALL CLASS="FOOTNOTESIZE">
Data files and images produced by the Fortran codes during the tests,
and the respective reference files to which they can be compared. All the files listed
are located or produced in the <TT>Healpix_3.31/test</TT> directory. The GIF images of full sky maps were
produced using <TT>map2gif</TT>. <EM>NA</EM>: No image available, because the data set
is not a sky map</SMALL></CAPTION>
<TR><TD><TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"><B>code</B>    &amp; parameter file </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> output data 		</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> reference data </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> output image </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> reference image </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 

</SMALL><SMALL CLASS="FOOTNOTESIZE"><B>synfast</B>  syn.par </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_map.fits 	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map.fits 	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_map.gif </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map.gif </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
              </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_alm.fits 	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> alm.fits 	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM> </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM> </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
</SMALL><SMALL CLASS="FOOTNOTESIZE"><B>smoothing</B>  smo.par </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_sm.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_sm.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_sm.gif </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_sm.gif </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
</SMALL><SMALL CLASS="FOOTNOTESIZE"><B>ud_grade</B>  udg.par </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_LOres.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_LOres.fits </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_LOres.gif	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_LOres.gif </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
</SMALL><SMALL CLASS="FOOTNOTESIZE"><B>hotspot</B>  hot.par </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_ext.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_ext.fits </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_ext.gif	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_ext.gif </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
		       </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_max.asc	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> max.asc </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM> </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM> </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
		       </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_min.asc	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> min.asc </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM> </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM> </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
</SMALL><SMALL CLASS="FOOTNOTESIZE"><B>anafast</B>  ana.par </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_cl.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> cl_out.fits </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM>	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM> </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
</SMALL><SMALL CLASS="FOOTNOTESIZE"><B>alteralm</B>  alt.par </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_almdec.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> almdec.fits </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM>	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> </SMALL><SMALL CLASS="FOOTNOTESIZE"><EM>NA</EM> </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
</SMALL><SMALL CLASS="FOOTNOTESIZE"><B>median_filter</B>  med.par </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_mf.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_mf.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_mf.gif </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_mf.gif </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
</SMALL><SMALL CLASS="FOOTNOTESIZE"><B>sky_ng_sim</B>  ngfs.par </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_ngfs.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_ngfs.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_ngfs.gif </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> map_ngfs.gif </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> 
</SMALL><SMALL CLASS="FOOTNOTESIZE"><B>process_mask</B>  prmask.par </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_distmask.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> distmask.fits	</SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> test_distmask.gif </SMALL></TD>
<TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> distmask.gif </SMALL></TD>
</TR>
</TABLE></TD></TR>
</TABLE>
</DIV><P></P>
<BR>

<P>
<B>Notes:</B> 
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 the input power spectrum (in <TT>Healpix_3.31/test/cl.fits</TT>) used to generate the Fortran90 test maps
is currently the WMAP 1yr best fit, in <SPAN CLASS="MATH"><IMG
 WIDTH="23" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg4.png"
 ALT="$(\mu$"></SPAN>K<SPAN CLASS="MATH">)<SUP>2</SUP></SPAN>, and is therefore different from the one
included in releases 1.* (that can still be found in <TT>cl_old.fits</TT>).
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Other input fiducial <SPAN CLASS="MATH"><IMG
 WIDTH="42" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg5.png"
 ALT="$C(\ell)$"></SPAN>, all in <SPAN CLASS="MATH"><IMG
 WIDTH="23" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg4.png"
 ALT="$(\mu$"></SPAN>K<SPAN CLASS="MATH">)<SUP>2</SUP></SPAN> and defined on the multipole range <!-- MATH
 $[0, \ell_{\rm max}]$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="67" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg6.png"
 ALT="$[0, \ell_{\rm max}]$"></SPAN>, have been included for convenience in 
<TT>Healpix_3.31/test/</TT> in a <b>HEALPix</b> compatible format.

<BR><TABLE CELLPADDING=3 BORDER="1">
<TR><TH ALIGN="LEFT"><SPAN  CLASS="textbf">File name</SPAN></TH>
<TH ALIGN="LEFT"><SPAN  CLASS="textbf">alias</SPAN></TH>
<TH ALIGN="LEFT"><SPAN  CLASS="textbf">Origin</SPAN></TH>
<TD ALIGN="LEFT"><!-- MATH
 $\ell_{\rm max}$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="38" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg7.png"
 ALT="$\ell_{\rm max}$"></SPAN></TD>
</TR>
<TR><TD ALIGN="LEFT">wmap_lcdm_pl_model_yr1_v1.fits</TD>
<TD ALIGN="LEFT">cl.fits</TD>
<TD ALIGN="LEFT"><A NAME="tex2html29"
  HREF="http://lambda.gsfc.nasa.gov/">WMAP</A>-1yr (2005)</TD>
<TD ALIGN="LEFT">3000</TD>
</TR>
<TR><TD ALIGN="LEFT">wmap_lcdm_sz_lens_wmap5_cl_v3.fits</TD>
<TD ALIGN="LEFT">cl_wmap5.fits</TD>
<TD ALIGN="LEFT">WMAP-5yr (2008)</TD>
<TD ALIGN="LEFT">2000</TD>
</TR>
<TR><TD ALIGN="LEFT">wmap_lcdm_sz_lens_wmap7_cl_v4.fits</TD>
<TD ALIGN="LEFT">cl_wmap7.fits</TD>
<TD ALIGN="LEFT">WMAP-7yr (2011)</TD>
<TD ALIGN="LEFT">3726</TD>
</TR>
<TR><TD ALIGN="LEFT">planck2013ext_lcdm_cl_v1.fits</TD>
<TD ALIGN="LEFT">cl_planck1.fits</TD>
<TD ALIGN="LEFT"><A NAME="tex2html30"
  HREF="http://www.cosmos.esa.int/web/planck">Planck</A>
2013</TD>
<TD ALIGN="LEFT">4500</TD>
</TR>
<TR><TD ALIGN="LEFT">planck2015_lcdm_cl_v2.fits</TD>
<TD ALIGN="LEFT">cl_planck2.fits</TD>
<TD ALIGN="LEFT">Planck 2015</TD>
<TD ALIGN="LEFT">4900</TD>
</TR>
</TABLE>

<BR>
For more information on their respective origin and underlying model see their FITS header, or
<TT>Healpix_3.31/test/README</TT>

<P>
</DL>

<P>
In order to test the new <b>HEALPix</b> profile set-up one can then attempt
to run any C++ or F90 facility from any directory on your system. Similarly,
IDL (and/or GDL) can be tested by invoking <TT>hidl</TT> or <TT>hidlde</TT>  (resp. <TT>hgdl</TT> or <TT>hgdlde</TT>).

<P>

<H2><A NAME="SECTION00054000000000000000">
Cleaning up</A>
</H2>
Three levels of cleaning are available:
<PRE>
  make clean
</PRE>
will remove the intermediate files created during compilation, such as object
files, (Fortran) modules files, ... found in the source or build directories;
<PRE>
  make tidy
</PRE>
same as above, and will also remove the <b>HEALPix</b> executables, libraries and module and/or
include files;
<PRE>
  make distclean
</PRE>
will return the <b>HEALPix</b> directory to its original 'distribution' state by discarding the same
files as above, as well as the executable and library directories and the top
level Makefile.

<P>
As a consequence, <TT>make clean</TT> can be used after a successful compilation and installation in order to remove now useless intermediate files while keeping the codes functional, 
while
<TT>make tidy</TT> should be used between consecutive (failed) attempts with different compilers, compiler versions or compiler options, to avoid any conflict between new and pre-existing files.

<P>

<H1><A NAME="SECTION00060000000000000000">
A Note on <I>Re</I>-installation</A>
</H1>

<P>
As a result of the line added to your shell profile which explicitly
sources the <b>HEALPix</b> profile, care must be taken if the package 
is reinstalled in a different directory. If such reinstallation
is desired, the included line must be removed from your system profile,
allowing the corrected version to be added.  

<P>

<H1><A NAME="SECTION00070000000000000000"></A>
<A NAME="sec:pkg-config"></A>
<BR>
Pkg-config files
</H1>
Starting with <b>HEALPix</b> 3.12, <TT>pkg-config</TT> (<TT>.pc</TT>) files are generated
during the configuration of the 
C, C++ and F90 packages, and are initially located respectively in
<TT>${HEALPIX}/lib/chealpix.pc</TT>,
<EM>install_lib_directory</EM><TT>/pkgconfig/healpix_cxx.pc</TT>
and 
<TT>${HEALPIX}/lib</TT><EM>suffix</EM><TT>/healpix.pc</TT>.
If the 
<A NAME="tex2html32"
  HREF="http://en.wikipedia.org/wiki/Pkg-config"><TT>pkg-config</TT> software</A>
is available on your system (see 
<A NAME="tex2html33"
  HREF="http://www.freedesktop.org/wiki/Software/pkg-config/">http://www.freedesktop.org/wiki/Software/pkg-config/</A>
to download, install and
use it) and if the location of
the <b>HEALPix</b> <TT>pkg-config</TT> files above are known to it (either by moving/copying them
to one of the standard locations returned by 
<BR><TT>pkg-config -variable pc_path pkg-config</TT>
<BR>
or by customizing the environment variable <TT>PKG_CONFIG_PATH</TT><A NAME="tex2html31"
  HREF="installfootnode.htm#foot1399"><SUP><SPAN CLASS="arabic">3</SPAN></SUP></A>) then linking
your own code with the 
C,
C++,
F90 <b>HEALPix</b> library simply becomes 
<BR><TT>cc `pkg-config -cflags -libs chealpix` mycode.c -o mycode</TT> 
<BR><TT>c++ `pkg-config -cflags -libs healpix_cxx` mycode.cpp -o mycode</TT> 
<BR><EM>FC</EM> `<TT>pkg-config -cflags -libs healpix` mycode.f90 -o mycode</TT>
<BR>(where <EM>FC</EM> has to be replaced by the Fortran compiler used to generate the
<b>HEALPix</b> library).

<P>

<H1><A NAME="SECTION00080000000000000000"></A>
<A NAME="sec:troubleshoot"></A>
<BR>
Troubleshooting and further information
</H1>
This section contains a list of difficulties which we have dealt
with. It is by no means exhaustive. 
In case of problems, see <A NAME="tex2html34"
  HREF="http://healpix.sourceforge.net/support.php"><TT> http://healpix.sourceforge.net/support.php</TT></A>
or contact <EM>healpix-support</EM> <TT>at</TT> <EM>lists.sourceforge.net</EM>

<P>

<H2><A NAME="SECTION00081000000000000000"></A>
<A NAME="sec:freef90compilers"></A>
<BR>
Free Fortran90/95 Compilers
</H2>
The <B>free</B> Fortran90/95 compilers that can be used to compile <b>HEALPix</b> include: 
    <DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <B>Intel Fortran</B> Compiler for Linux based computers (versions
11.* to 16.*<A NAME="tex2html35"
  HREF="installfootnode.htm#foot1400"><SUP><SPAN CLASS="arabic">4</SPAN></SUP></A>) 
<BR>         <A NAME="tex2html36"
  HREF="https://software.intel.com/en-us/fortran-compilers"><TT>        https://software.intel.com/en-us/fortran-compilers</TT></A>

<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <B>GNU Fortran 95</B> compiler (<TT>gfortran</TT>) included in GNU Compiler Collection <EM>GCC</EM> version 4.0.0
         and up and available for Linux, Mac OSX, Windows, Sun ... platforms
         
<BR>          <A NAME="tex2html37"
  HREF="http://www.gnu.org/software/gcc/fortran/"><TT>http://www.gnu.org/software/gcc/fortran/</TT></A>. 
<BR>
GFortran binaries for all platforms can also be downloaded from  
<BR>          <A NAME="tex2html38"
  HREF="http://gcc.gnu.org/wiki/GFortranBinaries"><TT>http://gcc.gnu.org/wiki/GFortranBinaries</TT></A>. 
<BR>
Please note that only recent versions of <TT>gfortran</TT> (Aug 2005
         and later) compile HEALPix correctly, and v4.2.1 and more have given satisfying
         results so far, including native OpenMP support.
     <DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <B>G95</B> compiler available for Linux, Mac OSX, Windows, Sun and HP platforms with 32 and 64 bit architectures (eg, x86 and x86-64). In the latter case, the '32bit default integer' (32bit DI) version of <TT>g95</TT> <EM>must</EM> be used.
         
<BR><A NAME="tex2html39"
  HREF="http://www.g95.org"><TT>http://www.g95.org</TT></A>
</DL>

<P>

<H2><A NAME="SECTION00082000000000000000"></A>
<A NAME="sec:windows"></A>
<BR>
Installation under Microsoft Windows
</H2>
Detailed instructions to install <b>HEALPix</b> on Windows 7 using Cygwin, kindly provided by John Arballo, 
are available in &#167;<A HREF="#sec:windows_seven">7.2.1</A>, 
while other configurations are discussed in &#167;<A HREF="#sec:windows_other">7.2.2</A>.

<H3><A NAME="SECTION00082100000000000000"></A>
<A NAME="sec:windows_seven"></A>
<BR>
Installation on Windows 7 with Cygwin
</H3>
The three steps (installation of Cygwin, cfitsio and <b>HEALPix</b> respectively) must be done in that order.

<P>
<SPAN  CLASS="textbf">A: Install Cygwin</SPAN>

<OL>
<LI>Go to <A NAME="tex2html40"
  HREF="https://www.cygwin.com/"><TT>https://www.cygwin.com/</TT></A>
and click on `Install Cygwin' in the menu on the left.

<P>
</LI>
<LI>Click on setup-x86.exe (for 32-bit installation) or setup-x86_64.exe
(for 64-bit installation) and then `Save File' when prompted.

<P>
</LI>
<LI>Go to your Downloads folder (or wherever you saved setup-x86*.exe) and
double-click on the setup-x86*.exe file to run it.

<P>
</LI>
<LI>Accept all defaults, except:

<P>

<OL>
<LI>You have to `Choose A Download Site'. (eg:
  <A NAME="tex2html41"
  HREF="ftp://ftp.gtlib.gatech.edu"><TT>ftp://ftp.gtlib.gatech.edu</TT></A>).
</LI>
<LI>When prompted to `Select Packages', expand `Default' (if you see a `+'
  to the left of it), expand `Devel', then find and add the following
  packages (click on `Skip' for each of them so it changes to the
  version number and a checkbox appears in the `Bin' column):
<BR> <tt>  &nbsp;&nbsp;&nbsp;&nbsp; gcc-core &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR> <tt>  &nbsp;&nbsp;&nbsp;&nbsp; gcc-fortran &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR> <tt>  &nbsp;&nbsp;&nbsp;&nbsp; gcc-g++ &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR> <tt>  &nbsp;&nbsp;&nbsp;&nbsp; make &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
</LI>
</OL>
</LI>
</OL>
&nbsp; The installation will take a few minutes.

<P>
<SPAN  CLASS="textbf">B: Install CFITSIO Library</SPAN>

<OL>
<LI>Get the latest source code package from NASA's HEASARC website
  (<A NAME="tex2html42"
  HREF="http://heasarc.gsfc.nasa.gov/FTP/software/fitsio/c/cfitsio_latest.tar.gz">http://heasarc.gsfc.nasa.gov/FTP/software/fitsio/c/cfitsio_latest.tar.gz</A>).
  When prompted to save the file, in the Save dialog window, navigate to
  C:&#92;cygwin64&#92;usr&#92;local
  (assuming you accepted the defaults when installing Cygwin), click on
  `New folder' and&nbsp; name it `src', go into that folder and `Save'.
</LI>
<LI>Open a Cygwin terminal (via the new Desktop icon or through your Start
  menu).
</LI>
<LI>Enter the following commands at the '<SPAN  CLASS="textbf">$</SPAN>' prompt:
<BR>  <tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> cd /usr/local/src &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>  <tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> tar zxvf cfitsio_latest.tar.gz &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>  <tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> cd cfitsio &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>  <tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> ./configure -prefix=/usr &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>  <tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> make &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>  <tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> make install &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>  <tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> cd ../ &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
</LI>
<LI>Leave the Cygwin terminal open.
</LI>
</OL>

<P>
<SPAN  CLASS="textbf">C: Install HEALPix</SPAN>

<OL>
<LI>Get the latest version of HEALPix from SourceForge
  (<A NAME="tex2html43"
  HREF="https://sourceforge.net/projects/healpix/files/latest/download">https://sourceforge.net/projects/healpix/files/latest/download</A>). When
  prompted to save the file, save it in
  C:&#92;cygwin64&#92;usr&#92;local&#92;src.
</LI>
<LI>In Windows Explorer, navigate to
  C:&#92;cygwin64&#92;usr&#92;local&#92;src,
  right-click on Healpix_*.zip and `Extract all...'. Accept the
  default location.
</LI>
<LI>In the Cygwin terminal, type the following commands at the
  '<SPAN  CLASS="textbf">$</SPAN>' prompt
<BR>(use the names of the Healpix directories for
  the version you installed):
<BR>	<tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> cd Healpix_3.30_2015Oct08 &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>	<tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> cd Healpix_3.30 &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>	<tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> ./configure &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>
Select an option from the menu (e.g., `2' for the C
  package) and accept all of the defaults except that
  the first time
  you run configure, you'll be prompted at the end to modify your
  home shell profile ('.profile'). Enter `y' at this prompt.
<BR>
If you want to install the C++ package of <b>HEALPix</b> (option 4), pick <TT>generic_gcc</TT> when prompted for a C++ configuration.
<BR>  	<tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> make &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>	<tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> make test &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
<BR>	<tt>  &nbsp;&nbsp;&nbsp;&nbsp; <SPAN  CLASS="textbf">$</SPAN> make tidy &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
</LI>
</OL>

<P>

<H3><A NAME="SECTION00082200000000000000"></A>
<A NAME="sec:windows_other"></A>
<BR>
Other Windows configurations
</H3>
Installation on Windows versions other than 7 should be very similar to the one detailed above.
<BR>
In step A above, replacing Cygwin with <B>MinGW</B> (<A NAME="tex2html44"
  HREF="http://www.mingw.org/"><TT>http://www.mingw.org/</TT></A>) together with the MSYS collection of GNU utilities 
(see <A NAME="tex2html45"
  HREF="http://www.mingw.org/wiki/msys"><TT>http://www.mingw.org/wiki/msys</TT></A>
and
<A NAME="tex2html46"
  HREF="https://sourceforge.net/projects/mingw/files"><TT>https://sourceforge.net/projects/mingw/files</TT></A>) is also possible.
The Unix/Linux tools required include <TT>sh, make, awk, grep, sed, ls, wc, cat, more, nm, ar</TT>,
as well as C, C++ and Fortran compilers.
<BR>
The latest <TT>gfortran</TT> binaries for Cygwin and/or MinGW can be found at, eg

<BR><A NAME="tex2html47"
  HREF="https://cygwin.com/cgi-bin2/package-grep.cgi?grep=gcc-fortran&amp;arch=x86_64"><TT><SMALL CLASS="SMALL">https://cygwin.com/cgi-bin2/package-grep.cgi?grep=gcc-fortran&amp;arch=x86_64</SMALL></TT></A>,
following the tips found at 
<A NAME="tex2html48"
  HREF="http://gcc.gnu.org/wiki/GFortranBinaries"><TT>http://gcc.gnu.org/wiki/GFortranBinaries</TT></A>.

<P>

<H2><A NAME="SECTION00083000000000000000">
Problems with CFITSIO</A>
</H2>

<H3><A NAME="SECTION00083100000000000000">
Compilation of CFITSIO Fortran wrappers</A>
</H3>
The most common problem with the Fortran <b>HEALPix</b> compilation will produce
messages like:
<PRE>
  ld: Undefined symbols:
   _ftbnfm_
   _ftclos_
   _ftcrhd_
   _ftdkey_
   ...
</PRE>
or
<PRE>
  fitstools.f90: undefined reference to `ftdkey_'
  fitstools.f90: undefined reference to `ftbnfm_'
  fitstools.f90: undefined reference to `ftclos_'
  ...
</PRE>
or
<PRE>
 Undefined symbols:
  "_ftghbn_", referenced from:
      ___fitstools_MOD_read_fits_cut4.clone.2 in libhealpix.a(fitstools.o)
      ___fitstools_MOD_getsize_fits.clone.1 in libhealpix.a(fitstools.o)
      ___fitstools_MOD_getsize_fits in libhealpix.a(fitstools.o)
   ...
 ld: symbol(s) not found
 collect2: ld returned 1 exit status
</PRE>
and occurs when the CFITSIO installation script could not find a valid fortran compiler.
<BR>
To solve this problem

<OL>
<LI>Go into the CFITSIO directory. 
<BR>
Assuming that <B>ifort</B> is available on your
system (it can be replaced below by <TT><B>gfortran</B></TT>, <TT><B>g95</B></TT>, <TT><B>f77</B></TT>, <TT><B>f2c</B></TT>, <SPAN CLASS="MATH"><IMG
 WIDTH="27" HEIGHT="19" ALIGN="BOTTOM" BORDER="0"
 SRC="installimg8.png"
 ALT="$\ldots$"></SPAN>) type: 
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; ./configure FC=<B>ifort</B> &nbsp;&nbsp;&nbsp;&nbsp; </tt>  
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; make &nbsp;&nbsp;&nbsp;&nbsp; </tt>  
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; make install &nbsp;&nbsp;&nbsp;&nbsp; </tt>  (optional).
</LI>
<LI>Then go back into the <b>HEALPix</b> directory and do 
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; ./configure &nbsp;&nbsp;&nbsp;&nbsp; </tt>  (making sure that you are using the newly created <TT>libcfitsio.a</TT> library) 
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; make &nbsp;&nbsp;&nbsp;&nbsp; </tt>  
<BR><tt>  &nbsp;&nbsp;&nbsp;&nbsp; make test &nbsp;&nbsp;&nbsp;&nbsp; </tt> 
</LI>
</OL>
See also the note below on 64 bit architectures.

<P>

<H3><A NAME="SECTION00083200000000000000">
CFITSIO problems on systems with 64 bit architecture</A>
</H3>

<P>

<OL>
<LI><B>Linux, Mac OS X</B>

<P>
If the <b>HEALPix</b> codes are compiled in 64 bits, and the GNU C Compiler (<TT>gcc</TT>) is used to compiled CFITSIO, then issue the following commands in the
CFITSIO directory:

<P>
<PRE>
  ./configure FC='gcc -m64'
  make
</PRE>

<P>
You can
then force compilation to the same binary format by entering
<TT>-m64</TT> when asked for the optimisation options in the
<b>HEALPix</b> configure script.

<P>
</LI>
<LI><B>IRIX64</B>

<P>
On a 64-bit architecture such as IRIX64, CFITSIO will have to be
compiled in the same  binary format as the <b>HEALPix</b> codes.
This can be achieved by typing the
following on the
command line in the CFITSIO directory:

<P>
<PRE>
  rm config.cache    
  setenv CC 'cc -n32'
  ./configure
  make
</PRE>

<P>
Alternatively you can replace the <TT>-n32</TT> with <TT>-64</TT>. You can
then force compilation to the same binary format by entering either
<TT>-n32</TT> or <TT>-64</TT> when asked for the optimisation options in the
<b>HEALPix</b> configure script.
</LI>
</OL>

<P>

<H3><A NAME="SECTION00083300000000000000">
CFITSIO linking problems</A>
</H3>

<P>
A particular problem encountered with the CFITSIO Version 2.0 release relates
to the inclusion of various libraries within the system release for a given
machine. This led to some modifications to the Makefile to include the specific
library links <TT>-lm -lnsl -lsocket</TT> on SunOS, but only <TT>-lm</TT> for IRIX64.
If your OS is not completely supported by the distribution, you may find this
as one source of errors. The CFITSIO developers recommend compilation of the
<TT>testprog</TT> routine. Inspection of the libraries linked after executing the
<TT>make testprog</TT> statement will reveal those you need to include in the
Makefile.

<P>

<H3><A NAME="SECTION00083400000000000000">
CFITSIO and Debian/Linux</A>
</H3>

<P>
Some problems have been reported on Debian/Linux systems during the
linking to the CFITSIO library shipped with Linux. If these problems
occur, try to recompile the CFITSIO library from scratch before linking
to <b>HEALPix</b> .

<P>

<H2><A NAME="SECTION00084000000000000000">
<TT>diff</TT> shows that the test files are different from
the supplied files</A>
</H2>

<P>
This by itself is no cause for concern. When comparing using a
<TT>diff </TT> on the test files will most likely report a
difference even when the installation has been successful. 
This  may be due to the fact that
different installations  have different floating point
representations. Also, the FITS files carry date information.

<P>

<H2><A NAME="SECTION00085000000000000000">
Try <TT>unlimit</TT></A>
</H2>

<P>
If you have unforeseen problems at runtime, try <TT>unlimit</TT> (under csh or tcsh) or <TT>ulimit</TT> (under sh or bash), in order to increase the heap and stack memory size. It
sometimes helps.

<P>

<H2><A NAME="SECTION00086000000000000000">
<TT>hidl</TT> usage</A>
</H2>

<P>
We have found that in very rare cases the alias <TT>hidl</TT>
is not recognised by the user's system. Usually, this is related
to the local system's IDL script. A quick-fix is achieved
by setting the environment variable <TT>IDL_STARTUP</TT> to be
equal to the <b>HEALPix</b> startup file <TT>HEALPix_startup</TT>
<B>including</B> the directory path to the file. This enables
the user to access the <b>HEALPix</b> IDL procedures simply by invoking
IDL. For example, in the typical installation documented
above for a user running the tcsh shell, the command 
<BR><TT>setenv IDL_STARTUP
/disk1/user1/HEALPix_3.31/src/idl/HEALPix_startup</TT>

<BR>
should be issued (or added to the user's shell profile).

<P>
If the user already has an IDL startup file, then
this should be merged with <TT>HEALPix_startup</TT>. This temporary
solution does mean that the <b>HEALPix</b> IDL procedures are available
in the <TT>IDL_PATH</TT> at all times, which may lead to conflicts with
user-defined procedures. The <TT>hidl</TT> invocation was intended 
to circumvent these issues, allowing <b>HEALPix</b> IDL procedures to
be available only when desired.

<P>
A proper fix requires the user to ask the local system
administrator to adjust the local IDL script.

<P>

<H2><A NAME="SECTION00087000000000000000">
Using <b>HEALPix</b> IDL together with other IDL libraries</A>
</H2>
See the <A HREF="./idlnode2.htm#idl:other_idl_libs">eponymous section</A> in the <A NAME="tex2html49"
  HREF="idl.html">``IDL Facilities Overview''</A>
<P>

<H2><A NAME="SECTION00088000000000000000"></A>
<A NAME="install:macos_idl_cursor"></A>
<BR>
Mac OS X,  X11 and IDL cursor
</H2>
If the IDL cursor does not work correctly on X11 windows under Mac OS X, and the
2nd and 3rd button clicks are ineffective, 
type
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 with Apple's X11:
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 under Tiger (10.4.*): 
<BR> <TT>defaults write com.apple.x11 wm_click_through -bool true</TT>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 under Leopard (10.5.*), Snow Leopard (10.6.*) and Lion (10.7.*): 
<BR> <TT>defaults write org.x.x11 wm_click_through -bool true</TT>
</DL>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 with Xquartz (default under Moutain Lion (10.8.*), Mavericks (10.9.*) and Yosemite (10.10.*), available
for download for El Capitan (10.11.*) and Sierra (10.12.*)):
<BR><TT>defaults write org.macosforge.xquartz.X11 wm_click_through -bool true</TT>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 with MacPort's X11 (package xorg-server):
<BR><TT>defaults write org.macports.X11 wm_click_through -bool true</TT>
</DL>
at your X11 prompt and restart X11.
<BR>
Note that the command <TT>ls -lrt  $HOME/Library/Preferences/*[xX]11*plist</TT> 
can be used to determine the X window system installed on
your Mac.
See also <A NAME="tex2html50"
  HREF="http://www.idlcoyote.com/misc_tips/maccursor.html"><TT>http://www.idlcoyote.com/misc_tips/maccursor.html</TT></A>
and
<A HREF="./idlnode42.htm#idl:mollcursor"><TT>mollcursor</TT></A> documentation in <A NAME="tex2html51"
  HREF="idl.htm">''IDL
Facilities''</A>).

<P>

<H2><A NAME="SECTION00089000000000000000"></A>
<A NAME="install:using_gdl"></A><A NAME="install:using_gdl"></A>
<BR>
Using GDL instead of IDL
</H2>

<P>
GNU Data Language (GDL), is a <EM>free</EM> clone of IDL 6.0 (for more information see
<A NAME="tex2html53"
  HREF="http://gnudatalanguage.sourceforge.net"><TT>http://gnudatalanguage.sourceforge.net</TT></A>).
Both the source code and precompiled executables for various platforms are available.

<P>
When used to run IDL-Healpix routines, GDL 0.9.6 or more gives
very satisfactory results<A NAME="tex2html52"
  HREF="installfootnode.htm#foot1436"><SUP><SPAN CLASS="arabic">5</SPAN></SUP></A>. The calculations agree with those done under IDL, with
comparable computation times, but a few minor features are missing in the production
of Postscript, GIF and PNG files, as described below.

<P>

<H3><A NAME="SECTION00089100000000000000">
GDL+<b>HEALPix</b> specific requirements</A>
</H3>
To fully enjoy GDL capabilities
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <b>HEALPix</b> 3.31 or more must be installed<A NAME="tex2html54"
  HREF="installfootnode.htm#foot1437"><SUP><SPAN CLASS="arabic">6</SPAN></SUP></A>.

<P>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">

Besides the mandatory requirements (<A NAME="tex2html58"
  HREF="http://plplot.sourceforge.net/source/index.html"><TT>plplot</TT></A>, 
<A NAME="tex2html59"
  HREF="http://www.gnu.org/software/gsl"><TT>gsl</TT></A>, 
<A NAME="tex2html60"
  HREF="http://ftp.gnu.org/pub/gnu/readline/"><TT>readline</TT></A>
and 
<A NAME="tex2html61"
  HREF="http://www.zlib.net/"><TT>zlib</TT></A>) 
GDL must also have been (pre-)compiled with links to
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A NAME="tex2html56"
  HREF="http://www.imagemagick.org"><TT>ImageMagick</TT></A>
(or <A NAME="tex2html57"
  HREF="http://www.graphicsmagick.org/"><TT>GraphicsMagick</TT></A>) 
to produce PNG and JPEG output files, 
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A NAME="tex2html62"
  HREF="http://pslib.sourceforge.net"><TT>pslib</TT></A>
to produce PostScript and PDF files (in the latter case,
a recent version of <A NAME="tex2html63"
  HREF="http://www.ghostscript.com/"><TT>ghostscript</TT></A>, i.e. 9.07 or more, is also recommended).
</DL>

<P>
</DL>

<P>

<H3><A NAME="SECTION00089200000000000000">
Impact of GDL limitations on <b>HEALPix</b> </A>
</H3>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 When run under GDL 0.9.6, and if the requirements stated above are met, 
the visualization routines
<A HREF="./idlnode43.htm#idl:mollview"><TT>azeqview</TT>, <TT>cartview</TT>, <TT>gnomview</TT>, <TT>mollview</TT> and <TT>orthview</TT></A> 
will produce correct screen (X) outputs and PS, PDF, PNG and JPEG images, with the following caveats:
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 they won't produce <A HREF="./idlnode43.htm#idl:mollview:gif">GIF</A> files (because GDL's <TT>write_gif</TT> is not yet functional); 
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 the <A HREF="./idlnode43.htm#idl:mollview:transparent"><TT>transparent</TT></A> keyword will be ignored in the
production of <A HREF="./idlnode43.htm#idl:mollview:png">PNG</A> files under GDL (except when <A HREF="./idlnode43.htm#idl:mollview:truecolors"><TT>TrueColors</TT></A> is set and <SPAN CLASS="MATH"><I>N</I></SPAN>x3 map is provided), 
and for the same reason, the <A HREF="./idlnode32.htm#idl:hpx2gs"><TT>hpx2gs</TT></A> routine won't mark missing pixels as
transparent in the output PNG file;
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
  and finally, the <A HREF="./idlnode43.htm#idl:mollview:pfonts"><TT>pfonts</TT></A> keyword will not allow the selection of other fonts than Hershey vectorial fonts (pfonts[0]=-1).
</DL>
All other features work properly, including the <A HREF="./idlnode43.htm#idl:mollview:latex"><TT>Latex</TT></A> keyword.

<P>
</DL>

<P>

<H1><A NAME="SECTION00090000000000000000"></A>
<A NAME="sec:newfeatures"></A>
<BR>
Appendix I: Recent Changes and New Features
</H1>

<H2><A NAME="SECTION00091000000000000000">
Bug corrections and Improvements in Version 3.31</A>
</H2>
<P>

<H3><A NAME="SECTION00091100000000000000">
General</A>
</H3>
	<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Detailed <A HREF="#sec:windows">HOWTO</A> for installation under Windows;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Interactive <TT>configure</TT> script now supports MINGW environment (for Windows), 
		and better detects <TT>gcc</TT> and <TT>python</TT> versions;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Improved cross-document linking in PDF documentation.
	</DL>
<H3><A NAME="SECTION00091200000000000000"></A>
<BR>
<A NAME="tex2html64"
  HREF="http://healpix.sourceforge.net/html/index_cxx.htm">C++</A>
</H3>
	<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Removal of C++11 features inadvertently introduced in Version 3.30 
	(see <A NAME="tex2html65"
  HREF="http://sourceforge.net/p/healpix/bugs/72"><TT>http://sourceforge.net/p/healpix/bugs/72</TT></A>)
	</DL>
<H3>Fortran 90 <A NAME="tex2html66"
  HREF="facilities.htm">facilities</A>
and
 	<A NAME="tex2html67"
  HREF="subroutines.htm">subroutines</A>
</H3>
	<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Bug correction in <A HREF="./subroutinesnode43.htm#sub:input_map"><TT>input_map</TT></A> routine for reading of polarized multi-HDU cut sky FITS files;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Introduction of 
<A HREF="./facilitiesnode5.htm#fac:alteralm:winfiledir_in"><TT>winfiledir_*</TT></A> and 
<A HREF="./facilitiesnode5.htm#fac:alteralm:windowfile_in"><TT>windowfile_*</TT></A> qualifiers in <A HREF="./facilitiesnode5.htm#fac:alteralm"><TT>alteralm</TT></A> facility.
	</DL>
<H3><A NAME="SECTION00091400000000000000"></A>
<BR>
<A NAME="tex2html68"
  HREF="idl.htm">IDL</A>
</H3>
	<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Improved support for <A HREF="#install:using_gdl">GDL</A>;
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 update of the required
    <A NAME="tex2html69"
  HREF="http://idlastro.gsfc.nasa.gov/homepage.html"><TT>IDL-astron</TT> library</A>
routines, and <A NAME="tex2html70"
  HREF="http://www.idlcoyote.com"><TT>Coyote</TT></A>
library
    routines (2016-08-19).
	</DL>
<H3><A NAME="SECTION00091500000000000000"></A>
<BR>
<A NAME="tex2html71"
  HREF="http://healpy.readthedocs.org/en/latest/">Python</A>
</H3>
	<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Switch to 
	<A NAME="tex2html72"
  HREF="https://github.com/healpy/healpy/releases"><TT>healpy 1.9.1</TT></A>
(<A NAME="tex2html73"
  HREF="https://github.com/healpy/healpy/blob/master/CHANGELOG.rst">CHANGELOG</A>)
	<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Removed C++ 11 features<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Streamlined setup.py<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Plotting fixes for Python 3<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Numpy 1.10 fix</DL></DL>

<P>

<H1><A NAME="SECTION000100000000000000000">
Appendix II: Older changes (versions 3.00 to 3.30)</A>
</H1>

<P>

<P>
<b>Bug corrections and Improvements in Version 3.30 (2015-10)</b><b><A NAME="tex2html74"
  HREF="http://healpix.sourceforge.net/html/index_cxx.htm">C++</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 support for multi-order coverages (MOC);
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 allow generation of <SPAN CLASS="MATH"><IMG
 WIDTH="33" HEIGHT="33" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg9.png"
 ALT="$a_{\ell m}$"></SPAN> from 6-component power spectra;
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 moved from <TT>alice2</TT> to <TT>alice3</TT>, which produces FITS <b>HEALPix</b> maps as output.
 These can be visualized more flexibly with external tools.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 switch from custom <TT>xcomplex</TT> class to <TT>std::complex</TT>;
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <TT>rangeset</TT> class has been redesigned.
</DL>

<P>
<b>Fortran 90 <A NAME="tex2html75"
  HREF="facilities.htm">facilities</A>
and
	<A NAME="tex2html76"
  HREF="subroutines.htm">subroutines</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./facilitiesnode6.htm#fac:anafast"><TT>anafast</TT></A> facility now produces nine spectra 
	(TT, EE, BB, TE, TB, EB, ET, BT and BE), instead of six previously,
          when analyzing two polarized maps;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./subroutinesnode7.htm#sub:alm2cl"><TT>alm2cl</TT></A> subroutine can now produces nine spectra 
      (TT, EE, BB, TE, TB, EB, ET, BT and BE), instead of six previously, when 
      called with two sets of polarized <SPAN CLASS="MATH"><IMG
 WIDTH="33" HEIGHT="33" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg9.png"
 ALT="$a_{\ell m}$"></SPAN> and can also symmetrize 
      the output <SPAN CLASS="MATH"><IMG
 WIDTH="42" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg5.png"
 ALT="$C(\ell)$"></SPAN> if requested;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 the <SPAN CLASS="MATH"><IMG
 WIDTH="33" HEIGHT="33" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg9.png"
 ALT="$a_{\ell m}$"></SPAN> generated by 
	<A HREF="./subroutinesnode24.htm#sub:create_alm"><TT>create_alm</TT></A> subroutine can now take into account
 non-zero (exotic) TB and EB cross-spectra (option <A HREF="./subroutinesnode24.htm#sub:create_alm:polar"><TT>polar=2</TT></A>) if the input FITS file contains the relevant information
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 new routines <A HREF="./subroutinesnode64.htm#sub:nest2uniq"><TT>nest2uniq</TT></A> 
	and <A HREF="./subroutinesnode102.htm#sub:uniq2nest"><TT>uniq2nest</TT></A> for conversion 
	of standard pixel index to/from Unique ID number. See <A HREF="./intronode4.htm#intro:unique">''The Unique Identifier scheme''</A> section in <A NAME="tex2html77"
  HREF="intro.htm">''<b>HEALPix</b> Introduction Document''</A>
for more details.
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 improved 
<A HREF="./subroutinesnode107.htm#sub:write_bintabh:repeat"><TT>repeat</TT></A>
behavior in <A HREF="./subroutinesnode107.htm#sub:write_bintabh"><TT>write_bintabh</TT></A> routine
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 edited <A HREF="./subroutinesnode47.htm#sub:map2alm_iterative"><TT>map2alm_iterative</TT></A> 
routine to avoid a bug specific to Intel's Ifort 15.0.2
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 CFITSIO version 3.20 (August 2009) or more now required;
</DL>

<P>
<b><A NAME="tex2html78"
  HREF="idl.htm">IDL</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 
<A HREF="./idlnode43.htm#idl:mollview"><TT>azeqview, cartview, gnomview, mollview, orthview</TT></A> 
visualization routines:
 <DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 addition of <A HREF="./idlnode43.htm#idl:mollview:pdf"><TT>PDF</TT></A> keyword for production of Adobe PDF outputs;
 <DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 addition of <A HREF="./idlnode43.htm#idl:mollview:latex"><TT>LATEX</TT></A> keyword for genuine 
 or emulated <SPAN CLASS="logo,LaTeX">L<SUP><SMALL>A</SMALL></SUP>T<SMALL>E</SMALL>X</SPAN> processing of character strings;
 <DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 addition of <A HREF="./idlnode43.htm#idl:mollview:pfonts"><TT>PFONTS</TT></A> keyword to select 
origin and type of character font;
 <DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 the <A HREF="./idlnode43.htm#idl:mollview:crop"><TT>CROP</TT></A> keyword now has the same behavior for all output media (GIF, JPEG, PDF, PNG, PS, ... and X);  the <A HREF="./idlnode43.htm#idl:mollview:nobar"><TT>NOBAR</TT></A> keyword now removes the color bar <EM>or</EM> the polarization color wheel, as applicable; correct EQUINOX date in header of output <A HREF="./idlnode43.htm#idl:mollview:fits">FITS</A> map; the double precision maps and those with constant value are now correctly handled.
 </DL>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./idlnode23.htm#idl:fits2cl"><TT>fits2cl</TT></A>: addition of <A HREF="./idlnode23.htm#idl:fits2cl:planck2"><TT>/PLANCK2</TT></A> keyword
to read best fit <SPAN CLASS="MATH"><IMG
 WIDTH="42" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg5.png"
 ALT="$C(\ell)$"></SPAN> model to Planck 2015 data.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 new routines <A HREF="./idlnode46.htm#idl:nest2uniq"><TT>nest2uniq</TT></A> and <A HREF="./idlnode68.htm#idl:uniq2nest"><TT>uniq2nest</TT></A> for conversion of standard pixel index to/from Unique ID number. See <A HREF="./intronode4.htm#intro:unique">''The Unique Identifier scheme''</A> section in <A NAME="tex2html79"
  HREF="intro.htm">''<b>HEALPix</b> Introduction Document''</A>
for more details.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <b>HEALPix</b> enabled GDL commands (<TT>hgdl</TT> and  <TT>hgdlde</TT>) are defined during the 
<A HREF="#install:idlgdlconfig">configuration process</A>.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 update of the required
    <A NAME="tex2html112"
  HREF="http://idlastro.gsfc.nasa.gov/homepage.html"><TT>IDL-astron</TT> library</A>
routines, and <A NAME="tex2html113"
  HREF="http://www.idlcoyote.com"><TT>Coyote</TT></A>
library
    routines (2015-09-23).
</DL>

<P>
<b><A NAME="tex2html80"
  HREF="http://healpix.sourceforge.net/html/java/index.html">Java</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 deprecated parts of the library have been removed;
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 MOC support (see 
<A NAME="tex2html81"
  HREF="http://ivoa.net/documents/MOC/">http://ivoa.net/documents/MOC/</A>
for high-level description);
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 queries for arbitrary polygons (using MOC);
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 new targets in <TT>build.xml</TT> which allow compilation without external JARs.
</DL>

<P>
<b><A NAME="tex2html82"
  HREF="http://healpy.readthedocs.org/en/latest/">Python</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 switch to <A NAME="tex2html114"
  HREF="https://github.com/healpy/healpy/releases"><TT>healpy
1.9.0</TT></A>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 same C++ source code as <b>HEALPix</b> 3.30
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 drop support for Python 2.6
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 support for <TT>astropy.fits</TT>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 improvements to  <TT>read_map</TT> and <TT>write_map</TT> 
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 renamed <TT>get_neighbours</TT> to <TT>get_interp_weights</TT>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 several bug fixes in build and installation processes
	</DL></DL>

<P>
<b>Bug corrections and Improvements in Version 3.20 (2014-12)</b> 
<P>
<b>General</b>
	<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Generation of 
<A NAME="tex2html115"
  HREF="http://en.wikipedia.org/wiki/Pkg-config"><TT>pkg-config</TT></A>
files during the configuration of the C, C++ and F90 packages. 
See Section&nbsp;<A HREF="#sec:pkg-config">6</A> of 
<A NAME="tex2html116"
  HREF="install.htm">''<b>HEALPix</b>  Installation''</A>
for
details.
</DL>
<b><A NAME="tex2html83"
  HREF="csub.htm">C</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Top <TT>configure</TT> script now proposes compilation with <EM>or</EM> without
CFITSIO-related functions
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Improved <TT>autotools</TT> support
</DL>

<P>
<b>C++</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 automatic workaround for bugs in older versions of GNU <TT>g++</TT> compiler
 (bug reports 
<A NAME="tex2html84"
  HREF="http://sourceforge.net/p/healpix/bugs/37">37</A>, 
<A NAME="tex2html85"
  HREF="http://sourceforge.net/p/healpix/bugs/45">45</A>, 
<A NAME="tex2html86"
  HREF="http://sourceforge.net/p/healpix/bugs/48">48</A>, 
<A NAME="tex2html87"
  HREF="http://sourceforge.net/p/healpix/bugs/51">51</A>)
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 workaround for possible bug in Intel <TT>icc</TT> 14.0 compiler
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 bug fix in Mollweide projection in <TT>map2tga</TT> when not looking at (0,0)
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <TT>autotools</TT> updates
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 deprecation warnings in <TT>alice2</TT>, soon to be replaced
</DL>

<P>
<b>Fortran 90 <A NAME="tex2html88"
  HREF="facilities.htm">facilities</A>
and
	<A NAME="tex2html89"
  HREF="subroutines.htm">subroutines</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <b>HEALPix</b>-F90 routines and facilities can now also be compiled with
the free Fortran95 compiler <SPAN  CLASS="textbf">g95</SPAN>
(<A NAME="tex2html90"
  HREF="http://www.g95.org/">http://www.g95.org/</A>).
See Section&nbsp;<A HREF="#sec:freef90compilers">7.1</A> of <A NAME="tex2html91"
  HREF="install.htm">''<b>HEALPix</b>  Installation''</A>
for details.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 A separate <TT>build</TT> directory is used to store the objects,
modules, ... produced during the compilation of the source codes
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 improved handling of long FITS keywords, now producing FITS files
fully compatible with the
<A NAME="tex2html92"
  HREF="http://www.stsci.edu/institute/software_hardware/pyfits"><TT>PyFITS</TT></A>
and 
<TT>Astropy</TT> (<A NAME="tex2html93"
  HREF="http://www.astropy.org/">www.astropy.org</A>)
<TT>Python</TT> libraries
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 improved FITS file parsing in 
<A HREF="./subroutinesnode32.htm#sub:generate_beam"><TT>generate_beam</TT></A>,
affecting the external <SPAN CLASS="MATH"><I>B</I>(<I>l</I>)</SPAN> reading in the F90 facilities 
<A HREF="./facilitiesnode5.htm#fac:alteralm"><TT>alteralm</TT></A>, 
<A HREF="./facilitiesnode14.htm#fac:synfast"><TT>synfast</TT></A>, 
<A HREF="./facilitiesnode12.htm#fac:sky_ng_sim"><TT>sky_ng_sim</TT></A>, 
<A HREF="./facilitiesnode13.htm#fac:smoothing"><TT>smoothing</TT></A>.
</DL>

<P>
<b><A NAME="tex2html94"
  HREF="idl.htm">IDL</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 addition of <A HREF="./idlnode33.htm#idl:ialteralm"><TT>ialteralm</TT></A> to modify
  Spherical Harmonics coefficients (<SPAN CLASS="MATH"><I>a</I><SUB><I>lm</I></SUB></SPAN>).
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 addition of <A HREF="./idlnode53.htm#idl:planck_colors"><TT>planck_colors</TT></A> to
  modify current color table to one used in Planck 2013 publications.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./idlnode43.htm#idl:mollview"><TT>cartview, gnomview, mollview, orthview</TT></A>: 
  <DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 addition of  
    <A HREF="./idlnode43.htm#idl:mollview:bad_color"><TT>BAD_COLOR</TT></A>,
    <A HREF="./idlnode43.htm#idl:mollview:bg_color"><TT>BG_COLOR</TT></A> and
    <A HREF="./idlnode43.htm#idl:mollview:fg_color"><TT>FG_COLOR</TT></A> keywords to change the color of the
    missing pixels, background and foreground labels and lines.
    <DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 support for 
    <A HREF="./idlnode43.htm#idl:mollview:colt"><TT>COLT='planck1'</TT></A> and 
    <A HREF="./idlnode43.htm#idl:mollview:colt"><TT>COLT='planck2'</TT></A> to use the Planck color tables
    defined in <A HREF="./idlnode53.htm#idl:planck_colors"><TT>planck_colors</TT></A>
  </DL>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Bugs correction in 
<A HREF="./idlnode13.htm#idl:bin_llcl"><TT>bin_llcl</TT></A>,
<A HREF="./idlnode54.htm#idl:query_disc"><TT>query_disc</TT></A>.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 update of the required
    <A NAME="tex2html117"
  HREF="http://idlastro.gsfc.nasa.gov/homepage.html"><TT>IDL-astron</TT> library</A>
routines, and their supporting <A NAME="tex2html118"
  HREF="http://www.idlcoyote.com"><TT>Coyote</TT></A>
routines (2014-11-10).
</DL>

<P>
<b>Java</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 explicit deprecation warnings in the source codes
</DL>

<P>
<b>Python</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 switch to <A NAME="tex2html119"
  HREF="https://github.com/healpy/healpy/releases"><TT>healpy
1.8.1</TT></A>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 fixes bugs in monopole removal, 
		<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 adds orthographic projection,
		<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 easier install on MacOSX
	</DL></DL>

<P>
<b>Bug corrections and Improvements in Version 3.11 (2013-04)</b> 

<P>
<b>General</b>
<A NAME="sec:general3p11"></A><DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A NAME="tex2html120"
  HREF="http://sourceforge.net/projects/libsharp"><TT>libsharp</TT></A>
C library used for Spherical Harmonics Transforms 
in Fortran and C++ since <b>HEALPix</b>  3.10
can now be compiled with <EM>any</EM> <TT>gcc</TT> version.
</DL>

<P>
<b>C++</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 See General section above
</DL>
<b>Fortran 90 <A NAME="tex2html95"
  HREF="facilities.htm">facilities</A>
and
	<A NAME="tex2html96"
  HREF="subroutines.htm">subroutines</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 bug correction in <A HREF="./subroutinesnode75.htm#sub:query_disc"><TT>query_disc</TT></A> 
	routine in <TT>inclusive</TT> mode
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 bug correction in <A HREF="./subroutinesnode10.htm#sub:alm2map_spin"><TT>alm2map_spin</TT></A> 
	routine, which had its <TT>spin</TT> value set to 2
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 See General section above
</DL>
<b><A NAME="tex2html97"
  HREF="idl.htm">IDL</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./idlnode52.htm#idl:pix_tools"><TT>ang2pix_ring</TT></A> and
		<A HREF="./idlnode52.htm#idl:pix_tools"><TT>pix2ang_nest</TT></A>
		routines now accept scalar arguments
</DL>

<P>
<b>Bug corrections and Improvements in Version 3.10 (2013-03)</b>
<b>General</b>
N/A<b><A NAME="tex2html98"
  HREF="csub.htm">C</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 experimental GNU autotools support (undocumented); the standard
configuration script remains available
</DL>

<P>
<b>C++</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Spherical Harmonics Transform library <TT>libpsht</TT> replaced by <A NAME="tex2html100"
  HREF="http://sourceforge.net/projects/libsharp"><TT>libsharp</TT></A>
(<A NAME="tex2html101"
  HREF="http://arxiv.org/abs/1303.4945">Reinecke &amp; Seljebotn, 2013</A>). 
<BR><EM><A NAME="install:cpp:gccreleases"></A>Note that 
some <A NAME="tex2html99"
  HREF="http://gcc.gnu.org/releases.html"><TT>gcc</TT> versions</A>
(4.4.1 to 4.4.6) crash with an internal compiler error during compilation of <TT>libsharp</TT></EM>. 
The problem has been fixed in <TT>gcc</TT> 4.4.7, 4.5.*, 4.6.*, 4.7.* and
newer versions and was not present in versions 4.2.* and 4.3.*.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 added <TT>boundaries()</TT> method to <TT>T_Healpix_Base</TT>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 experimental GNU autotools support (undocumented); the standard
configuration script remains available
</DL>

<P>
<b>Fortran 90 <A NAME="tex2html102"
  HREF="facilities.htm">facilities</A>
and
	<A NAME="tex2html103"
  HREF="subroutines.htm">subroutines</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 all Fortran facilities now support most of <TT>cfitsio</TT>'s ``<A NAME="tex2html104"
  HREF="http://heasarc.gsfc.nasa.gov/docs/software/fitsio/filters.html">Extended File
Name Syntax</A>'' features,
allowing the reading and processing of an arbitrary HDU and table column out of
remote, compressed FITS files. For example, setting 
<BR><TT>infile = ftp://</TT><I>url/file.fits</I><TT>.gz[</TT><I>extn</I><TT>][col </TT><I>colname</I><TT>]</TT>  
<BR>
in <A HREF="./facilitiesnode6.htm#fac:anafast"><TT>anafast</TT></A>
will download the FITS file <I>file.fits.gz</I> from <I>url</I>, 
uncompress it, open the HDU (extension) featuring keyword <TT>EXTNAME=</TT><I>extn</I>, or the one with 1-based rank number <I>extn</I>, read the table column
with <TT>TTYPE*=</TT><I>colname</I> out of it and will analyze it.
<BR>
It is also possible to perform a remote <A HREF="./facilitiesnode6.htm#fac:anafast"><TT>anafast</TT></A> analysis of a 
<A NAME="tex2html105"
  HREF="http://www.sciops.esa.int/index.php?project=planck&amp;page=Planck_Legacy_Archive">Planck Legacy Archive (PLA)</A>
sky map named <I>map.fits</I> via the PLA <A NAME="tex2html106"
  HREF="http://pla.esac.esa.int/pla/aio/">AIO
Subsystem</A>
by simply setting
<TT>infile=http://pla.esac.esa.int/pla/aio/product-action?MAP.MAP_ID=</TT><I>map.fits</I>
as input map file.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 yet faster 
<A HREF="./facilitiesnode14.htm#fac:synfast"><TT>synfast</TT></A>,
<A HREF="./facilitiesnode6.htm#fac:anafast"><TT>anafast</TT></A>,
<A HREF="./facilitiesnode13.htm#fac:smoothing"><TT>smoothing</TT></A> thanks to <A NAME="tex2html121"
  HREF="http://sourceforge.net/projects/libsharp"><TT>libsharp</TT></A>
routines (see <A HREF="#install:cpp:gccreleases">warning on
gcc releases above</A>).
</DL>

<P>
<b><A NAME="tex2html107"
  HREF="idl.htm">IDL</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 bug corrections: 
	<A HREF="./idlnode54.htm#idl:query_disc"><TT>query_disc</TT></A>: correct handling of empty disc; 
	<A HREF="./idlnode13.htm#idl:bin_llcl"><TT>bin_llcl</TT></A>: correct handling of optional argument.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 double precision of input now preserved in
	<A HREF="./idlnode24.htm#idl:gaussbeam"><TT>gaussbeam</TT></A> and 
	<A HREF="./idlnode21.htm#idl:euler_matrix_new"><TT>euler_matrix_new</TT></A>.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./idlnode23.htm#idl:fits2cl"><TT>fits2cl</TT></A>: addition of 
	<TT>/PLANCK1</TT> keyword
	to read best fit <SPAN CLASS="MATH"><I>C</I>(<I>l</I>)</SPAN> model to Planck 2013 + external data.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 it is now possible to read a specific FITS file extension identified by its
	(0-based) number or its case-insensitive EXTNAME value with the <TT>Extension</TT>
	keyword added to 
	<A HREF="./idlnode23.htm#idl:fits2cl"><TT>fits2cl</TT></A>,
	<A HREF="./idlnode26.htm#idl:getsize_fits"><TT>getsize_fits</TT></A>,
	<A HREF="./idlnode59.htm#idl:read_fits_map"><TT>read_fits_map</TT></A>,
	<A HREF="./idlnode60.htm#idl:read_fits_s"><TT>read_fits_s</TT></A> and 
	<A HREF="./idlnode61.htm#idl:read_tqu"><TT>read_tqu</TT></A>.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 update of the required
	<A NAME="tex2html122"
  HREF="http://idlastro.gsfc.nasa.gov/homepage.html"><TT>IDL-astron</TT> library</A>
routines, and their supporting <A NAME="tex2html123"
  HREF="http://www.idlcoyote.com"><TT>Coyote</TT></A>
routines (2013-02-08).
</DL>

<P>
<b>Java</b>
N/A<b>Python</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
	switch to <TT>healpy 1.5.0</TT>: addition of 
<A NAME="tex2html124"
  HREF="https://healpy.readthedocs.org/en/1.5.0/generated/healpy.sphtfunc.gauss_beam.html"><TT>gauss_beam</TT></A>
to generate Gaussian beam window function.
</DL>

<P>
<b>Bug corrections and Improvements in Version 3.0 (2012-11)</b> 
<P>
<b>General</b>
Introduction of the script <TT>healpix_doc</TT> for easy access to the <b>HEALPix</b> 
PDF and HTML documentation.

<P>
<b><A NAME="tex2html108"
  HREF="csub.htm">C</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Interface has remained unchanged, but the code has been replaced by a C port
of the relevant Healpix C++ functions, resulting in significant speedups.
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Additional functions are provided which support Nside values up to <SPAN CLASS="MATH">2<SUP>29</SUP></SPAN>.
They have the same name as the traditional functions, with a ``64'' suffix appended.
</DL>

<P>
<b>C++</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Query routines:
 <A NAME="install:cpp:query"></A>query_polygon() and query_polygon_inclusive() added.
Query routines now return lists of pixel ranges instead of lists of pixels,
 which is much more economic.
Inclusive query routines: tradeoff between performance and number of false
 positives is tuneable.
Queries now work natively in both NESTED and RING schemes. Operations on
 the NESTED scheme are typically slower than in RING, but still much faster
 than computing the query in RING and converting all pixel numbers to NESTED
 afterwards.

<P>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Healpix_Base:
Healpix_Base and Healpix_Base2 have been merged into the templated class
 T_Healpix_Base; functionality is still available under the old names.
Various performance improvements to T_Healpix_Base functionality

<P>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 User-friendliness:
module parameters can now optionally be passed on the command line instead
 of using a parameter file. For example:
<BR>   <TT>anafast_cxx nlmax=500 infile=test.fits iter_order=3</TT> <!-- MATH
 $\langle\ldots\rangle$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="41" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg10.png"
 ALT="$\langle\ldots\rangle$"></SPAN>
<BR>
Facilities now check input maps for undefined pixels before calling map2alm().
 If undefined pixels are found, a warning is printed, and the pixels are set
 to zero. udgrade_cxx refuses downgrading of polarised maps (which would produce
 unphysical results)
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Bug fixes: accuracy of pix2ang near the poles at high resolutions has been improved.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Configuration: optional autoconf support
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Interface changes:
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Healpix_Base::query_*(): new interface
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 cxxutils.h has been split up into
 announce.h (dealing with module banners), 
 share_utils.h (dealing with subdividing tasks between multiple workers) and
 string_utils.h (dealing with string manipulation and file parsing)
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 psht.h: interface to alm_info changed in order to add MPI support
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 ylmgen_c.h: Ylmgen_init() interface has changed
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 bluestein.h: bluestein_i() interface changed
</DL>

<P>
</DL>

<P>
<b>Fortran 90 <A NAME="tex2html109"
  HREF="facilities.htm">facilities</A>
and
<A NAME="tex2html110"
  HREF="subroutines.htm">subroutines</A>
</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Compressed and/or remote (ftp or http) FITS files can now be
read. CFITSIO 3.14 or more is now required;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 introduction of the 
<A HREF="./facilitiesnode11.htm#fac:process_mask"><TT>process_mask</TT></A>
facility to compute the angular distance of valid
pixels to the closest invalid pixels for a input binary mask, and of the
supporting routines 
<A HREF="./subroutinesnode26.htm#sub:dist2holes_nest"><TT>dist2holes_nest</TT></A>, 
<A HREF="./subroutinesnode28.htm#sub:fill_holes_nest"><TT>fill_holes_nest</TT></A>, 
<A HREF="./subroutinesnode49.htm#sub:maskborder_nest"><TT>maskborder_nest</TT></A>,
<A HREF="./subroutinesnode96.htm#sub:size_holes_nest">size_holes_nest</A>;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 the pixel query routine
 <A HREF="./subroutinesnode75.htm#sub:query_disc"><TT>query_disc</TT></A>
has been improved and will return fewer
false positive pixels in the 
inclusive mode;
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 improved accuracy of the co-latitude calculation in the vicinity
of the poles at high resolution in 
<A HREF="./subroutinesnode72.htm#sub:pix_tools"><TT>nest2ring, ring2nest, pix2ang_*, pix2vec_*, <SPAN CLASS="MATH"><IMG
 WIDTH="27" HEIGHT="19" ALIGN="BOTTOM" BORDER="0"
 SRC="installimg8.png"
 ALT="$\ldots$"></SPAN></TT></A>;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./facilitiesnode12.htm#fac:sky_ng_sim"><TT>sky_ng_sim</TT></A> now allows the computation
of the spatial derivatives of the non Gaussian map being produced, and the
output of the <SPAN CLASS="MATH"><I>a</I><SUB><I>lm</I></SUB></SPAN> coefficients of that map;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./facilitiesnode6.htm#fac:anafast"><TT>anafast</TT></A> now allows the
pro/down-grading of the input mask to match the resolution of the map(s) being
analyzed;
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 the median filter routine <A HREF="./subroutinesnode50.htm#sub:medfiltmap"><TT>medfiltmap</TT></A>, used by the facility
<A HREF="./facilitiesnode9.htm#fac:median_filter"><TT>median_filter</TT></A> is now parallelized.
</DL>

<P>
<b><A NAME="tex2html111"
  HREF="idl.htm">IDL</A></b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 New routines to go from circular beam profile to transfer function
(<A HREF="./idlnode12.htm#idl:beam2bl"><TT>beam2bl</TT></A>), 
and back (<A HREF="./idlnode14.htm#idl:bl2beam"><TT>bl2beam</TT></A>); 
to go from indexed list of <SPAN CLASS="MATH"><I>a</I><SUB><I>lm</I></SUB></SPAN> to a(l,m) 2D table
(<A HREF="./idlnode6.htm#idl:alm_i2t"><TT>alm_i2t</TT></A>), 
and back
(<A HREF="./idlnode7.htm#idl:alm_t2i"><TT>alm_t2i</TT></A>); and to compute the angular distance
between pairs of vectors (<A HREF="./idlnode10.htm#idl:angulardistance"><TT>angulardistance</TT></A>).
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 addition of <A HREF="./idlnode37.htm#idl:iprocess_mask"><TT>iprocess_mask</TT></A>
interface to F90 <TT>process_mask</TT> facility to compute the angular distance of valid
pixels to the closest invalid pixels for a input binary mask.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 creation of <A HREF="./idlnode31.htm#idl:hpx2dm"><TT>hpx2dm</TT></A> routine to generate
DomeMaster images of <b>HEALPix</b> maps that can be projected on planetariums.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 the pixel query routines 
<A HREF="./idlnode57.htm#idl:query_triangle"><TT>query_triangle</TT></A>, 
<A HREF="./idlnode55.htm#idl:query_polygon"><TT>query_polygon</TT></A>, 
and in particular <A HREF="./idlnode54.htm#idl:query_disc"><TT>query_disc</TT></A>, 
have been improved and will return fewer
false positive pixels in the <EM>inclusive</EM> mode
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 improved accuracy of the co-latitude calculation in the vicinity
of the poles at high resolution in 
<A HREF="./idlnode52.htm#idl:pix_tools"><TT>nest2ring, ring2nest, pix2ang_*, pix2vec_*, <SPAN CLASS="MATH"><IMG
 WIDTH="27" HEIGHT="19" ALIGN="BOTTOM" BORDER="0"
 SRC="installimg8.png"
 ALT="$\ldots$"></SPAN></TT></A>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./idlnode43.htm#idl:mollview"><TT>cartview, gnomview, mollview, orthview</TT></A>:
 the length and spacing of the headless vectors used to represent
polarization is now user-controlled  via 
<TT>POLARIZATION</TT>
keyword. The <TT>COLT</TT> keyword now
allows the use of an interactively modified color table.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./idlnode51.htm#idl:orthview"><TT>orthview</TT></A> now accepts
<TT>STAGGER</TT> keyword to overplot staggered
spheres (with a twist) in order to detect periodic boundary conditions on the
sky
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./idlnode23.htm#idl:fits2cl"><TT>fits2cl</TT></A>: addition of <TT>WMAP7</TT> keyword
to read best fit <SPAN CLASS="MATH"><I>C</I>(<I>l</I>)</SPAN> model to WMAP 7yr data.
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 <A HREF="./idlnode59.htm#idl:read_fits_map"><TT>read_fits_map</TT></A> can now read
<!-- MATH
 ${N_{\rm side}}$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="43" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="installimg11.png"
 ALT="${N_{\rm side}}$"></SPAN>=8192 <b>HEALPix</b> maps and is generally faster than previously for smaller
maps
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 update of <TT>astron</TT> library routines (01-Feb-2012).
</DL>

<P>
<b>Java</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 Core functionality has been reimplemented from scratch in the form of the
"healpix.essentials" package. It is strongly recommended to use this package
directly in future projects making use of Java HEALPix.
"healpix.essentials" is a port of the Healpix C++ library and presents a very
similar interface.

<P>
The "healpix.core" package is still provided. It uses "healpix.essentials"
internally, and its interface has been kept stable as much as possible.
Some adaptations in user code will still be necessary, however.
Please note that using "healpix.core" will result in slightly lower performance
than calling "healpix.essentials" methods directly, because of the necessary
data conversion.
	<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 New features and improvements introduced with the HealpixBase class, compared
to the HealpixIndex, Healpix and PixTools classes:
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 close similarities with Healpix_Base_T class from Healpix C++, which allows
 simultaneous development and bug fixes for both.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 support for arbitrary positive Nside values in RING scheme; no longer limited
 to powers of 2
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 maximum supported Nside value: <SPAN CLASS="MATH">2<SUP>29</SUP></SPAN>
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 significant performance improvements: most methods have been accelerated
 by integral factors, some by more than an order of magnitude.
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 re-implementation of queryDisc and queryPolygon, with same new features
as the C++ implementation (see <A HREF="#install:cpp:query">above</A>).
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 the HealpixProc class offers a procedural (instead of object-oriented)
 interface to the HealpixBase functionality, which simplifies transition
 for users of the "Healpix" and "PixTools" classes.
 NOTE: this only works for Nside parameters which are powers of 2
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 many bug fixes
<DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 no external library dependencies, except for "nom.tam.fits" if FITS I/O is
 required
</DL></DL>

<P>
<b>Python</b>
<DL COMPACT><DT><DD><IMG WIDTH="14" HEIGHT="14" SRC="greenball.png" ALT="*">
 the 
<A NAME="tex2html125"
  HREF="https://github.com/healpy/healpy"><TT>healpy</TT></A>
package (C. Rosset, A. Zonca et al.) is now part of <b>HEALPix</b> 
</DL>

<P>

<P>

<P>

<H1><A NAME="SECTION000110000000000000000">
About this document ...</A>
</H1>
 <STRONG><b>HEALPix</b> Facility Installation Guidelines</STRONG><P>
This document was generated using the
<A HREF="http://www.latex2html.org/"><STRONG>LaTeX</STRONG>2<tt>HTML</tt></A> translator Version 2002-2-1 (1.71)
<P>
Copyright &#169; 1993, 1994, 1995, 1996,
<A HREF="http://cbl.leeds.ac.uk/nikos/personal.html">Nikos Drakos</A>, 
Computer Based Learning Unit, University of Leeds.
<BR>
Copyright &#169; 1997, 1998, 1999,
<A HREF="http://www.maths.mq.edu.au/~ross/">Ross Moore</A>, 
Mathematics Department, Macquarie University, Sydney.
<P>
The command line arguments were: <BR>
 <STRONG>latex2html</STRONG> <TT>-dir ../../healpix-dynamicPages//html -up_url main.htm -up_title 'Main Page' -down_url main.htm -down_title 'Main Page' -math -html_version 4.1 -bottom_navigation -short_extn -white -local_icons -noexternal_images -toc_depth 8 -address 'Version 3.31, 2016-08-26' -info 1 -split 3 -prefix install -t 'Installing HEALPix' install</TT>
<P>
The translation was initiated by Eric Hivon on 2016-08-26
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html130"
  HREF="install.htm#SECTION00010000000000000000">TABLE OF CONTENTS</A>
<LI><A NAME="tex2html131"
  HREF="install.htm#SECTION00020000000000000000">Introduction</A>
<LI><A NAME="tex2html132"
  HREF="install.htm#SECTION00030000000000000000">Installation Requirements</A>
<LI><A NAME="tex2html133"
  HREF="install.htm#SECTION00040000000000000000"><TT>healpix_doc</TT>: an easy access to <b>HEALPix</b> documentation</A>
<LI><A NAME="tex2html134"
  HREF="install.htm#SECTION00050000000000000000">The Installation Procedure</A>
<UL>
<LI><A NAME="tex2html135"
  HREF="install.htm#SECTION00051000000000000000">./configure [-L]</A>
<UL>
<LI><A NAME="tex2html136"
  HREF="install.htm#SECTION00051100000000000000">Configuration profile</A>
<LI><A NAME="tex2html137"
  HREF="install.htm#SECTION00051200000000000000">C configuration</A>
<LI><A NAME="tex2html138"
  HREF="install.htm#SECTION00051300000000000000">C++ configuration</A>
<LI><A NAME="tex2html139"
  HREF="install.htm#SECTION00051400000000000000">Fortran 90 configuration</A>
<LI><A NAME="tex2html140"
  HREF="install.htm#SECTION00051500000000000000">IDL/GDL configuration</A>
<LI><A NAME="tex2html141"
  HREF="install.htm#SECTION00051600000000000000">Java installation</A>
<LI><A NAME="tex2html142"
  HREF="install.htm#SECTION00051700000000000000">Python (healpy) installation</A>
</UL>
<LI><A NAME="tex2html143"
  HREF="install.htm#SECTION00052000000000000000">Compilation and installation</A>
<LI><A NAME="tex2html144"
  HREF="install.htm#SECTION00053000000000000000">Testing the installation</A>
<LI><A NAME="tex2html145"
  HREF="install.htm#SECTION00054000000000000000">Cleaning up</A>
</UL>
<BR>
<LI><A NAME="tex2html146"
  HREF="install.htm#SECTION00060000000000000000">A Note on <I>Re</I>-installation</A>
<LI><A NAME="tex2html147"
  HREF="install.htm#SECTION00070000000000000000">Pkg-config files</A>
<LI><A NAME="tex2html148"
  HREF="install.htm#SECTION00080000000000000000">Troubleshooting and further information</A>
<UL>
<LI><A NAME="tex2html149"
  HREF="install.htm#SECTION00081000000000000000">Free Fortran90/95 Compilers</A>
<LI><A NAME="tex2html150"
  HREF="install.htm#SECTION00082000000000000000">Installation under Microsoft Windows</A>
<UL>
<LI><A NAME="tex2html151"
  HREF="install.htm#SECTION00082100000000000000">Installation on Windows 7 with Cygwin</A>
<LI><A NAME="tex2html152"
  HREF="install.htm#SECTION00082200000000000000">Other Windows configurations</A>
</UL>
<LI><A NAME="tex2html153"
  HREF="install.htm#SECTION00083000000000000000">Problems with CFITSIO</A>
<UL>
<LI><A NAME="tex2html154"
  HREF="install.htm#SECTION00083100000000000000">Compilation of CFITSIO Fortran wrappers</A>
<LI><A NAME="tex2html155"
  HREF="install.htm#SECTION00083200000000000000">CFITSIO problems on systems with 64 bit architecture</A>
<LI><A NAME="tex2html156"
  HREF="install.htm#SECTION00083300000000000000">CFITSIO linking problems</A>
<LI><A NAME="tex2html157"
  HREF="install.htm#SECTION00083400000000000000">CFITSIO and Debian/Linux</A>
</UL>
<LI><A NAME="tex2html158"
  HREF="install.htm#SECTION00084000000000000000"><TT>diff</TT> shows that the test files are different from
the supplied files</A>
<LI><A NAME="tex2html159"
  HREF="install.htm#SECTION00085000000000000000">Try <TT>unlimit</TT></A>
<LI><A NAME="tex2html160"
  HREF="install.htm#SECTION00086000000000000000"><TT>hidl</TT> usage</A>
<LI><A NAME="tex2html161"
  HREF="install.htm#SECTION00087000000000000000">Using <b>HEALPix</b> IDL together with other IDL libraries</A>
<LI><A NAME="tex2html162"
  HREF="install.htm#SECTION00088000000000000000">Mac OS X,  X11 and IDL cursor</A>
<LI><A NAME="tex2html163"
  HREF="install.htm#SECTION00089000000000000000">Using GDL instead of IDL</A>
<UL>
<LI><A NAME="tex2html164"
  HREF="install.htm#SECTION00089100000000000000">GDL+<b>HEALPix</b> specific requirements</A>
<LI><A NAME="tex2html165"
  HREF="install.htm#SECTION00089200000000000000">Impact of GDL limitations on <b>HEALPix</b> </A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html166"
  HREF="install.htm#SECTION00090000000000000000">Appendix I: Recent Changes and New Features</A>
<UL>
<LI><A NAME="tex2html167"
  HREF="install.htm#SECTION00091000000000000000">Bug corrections and Improvements in Version 3.31</A>
<UL>
<LI><A NAME="tex2html168"
  HREF="install.htm#SECTION00091100000000000000">General</A>
<LI><A NAME="tex2html169"
  HREF="install.htm#SECTION00091200000000000000">C++</A>
<LI><A NAME="tex2html170"
  HREF="install.htm#SECTION00091300000000000000">Fortran</A>
<LI><A NAME="tex2html171"
  HREF="install.htm#SECTION00091400000000000000">IDL</A>
<LI><A NAME="tex2html172"
  HREF="install.htm#SECTION00091500000000000000">Python</A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html173"
  HREF="install.htm#SECTION000100000000000000000">Appendix II: Older changes (versions 3.00 to 3.30)</A>
<LI><A NAME="tex2html174"
  HREF="install.htm#SECTION000110000000000000000">About this document ...</A>
</UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev_g.png"> 
<A NAME="tex2html128"
  HREF="main.htm">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html126"
  HREF="main.htm">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="nx_grp.png"></A>   
<BR>
<B>Up:</B> <A NAME="tex2html129"
  HREF="main.htm">Main Page</A>

<B> Next:</B> <A NAME="tex2html127"
  HREF="main.htm">Main Page</A>
<B> Top:</B> <a href="main.htm">Main Page</a></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Version 3.31, 2016-08-26
</ADDRESS>
</BODY>
</HTML>
