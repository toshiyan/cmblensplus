<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.1//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>iprocess_mask</TITLE>
<META NAME="description" CONTENT="iprocess_mask">
<META NAME="keywords" CONTENT="idl">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<meta name="viewport" content="width=device-width, initial-scale=1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="idl.css">

<LINK REL="next" HREF="idlnode38.htm">
<LINK REL="previous" HREF="idlnode36.htm">
<LINK REL="up" HREF="idl.htm">
<LINK REL="next" HREF="idlnode38.htm">
</HEAD>

<BODY >

<DIV CLASS="navigation"><body text="#000000" bgcolor="#FFFFFA">
<!--Navigation Panel-->
<A NAME="tex2html675"
  HREF="idlnode36.htm">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html681"
  HREF="idl.htm">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html685"
  HREF="idlnode38.htm">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html683"
  HREF="idlnode1.htm">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Previous:</B> <A NAME="tex2html676"
  HREF="idlnode36.htm">init_healpix and !healpix system</A>

<B>Up:</B> <A NAME="tex2html682"
  HREF="idl.htm">HEALPix/IDL subroutines</A>

<B> Next:</B> <A NAME="tex2html686"
  HREF="idlnode38.htm">ismoothing</A>
<B> Top:</B> <a href="main.htm">Main Page</a></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION000370000000000000000"></A>
<A NAME="idl:iprocess_mask"></A>
<BR>
 
</H1>
<P>
<b><font size=+6><FONT COLOR="#CC0000">iprocess_mask</FONT></font></b><hr>
<H3>This IDL facility provides an interface to F90 '<A HREF="#fac:process_mask">process_mask</A>' facility. For a
given input binary mask, it can determine the angular distance in Radians of each valid (1 valued)
pixel to the closest invalid (0 valued) pixel, with the option of ignoring small
clusters of invalid pixels. The distance map can then be used to generate an
apodized mask.</H3>
Location in HEALPix directory tree: <a href="http://sourceforge.net/p/healpix/code/845/tree/trunk/src/idl/interfaces/iprocess_mask.pro"><b>src/idl/interfaces/iprocess_mask.pro</b></a>&nbsp;  
<P>
<hr><h1>FORMAT </h1><h3>IDL>
IPROCESS_MASK, 
<A HREF="#idl:iprocess_mask:mask_in">mask_in</A>,  
<A HREF="#idl:iprocess_mask:distance_map">distance_map</A>,[
<A HREF="#idl:iprocess_mask:binpath">binpath=</A>,
<A HREF="#idl:iprocess_mask:filled_mask">filled_mask=</A>,
<A HREF="#idl:iprocess_mask:help">/help</A>,
<A HREF="#idl:iprocess_mask:hole_arcmin2">hole_arcmin2=</A>,
<A HREF="#idl:iprocess_mask:hole_pixels">hole_pixels=</A>,
<A HREF="#idl:iprocess_mask:keep_tmp_files">keep_tmp_files=</A>, 
<A HREF="#idl:iprocess_mask:nested">/nested</A>,
<A HREF="#idl:iprocess_mask:ordering">ordering=</A>, 
<A HREF="#idl:iprocess_mask:ring">/ring</A>,
<A HREF="#idl:iprocess_mask:silent">/silent</A>,
<A HREF="#idl:iprocess_mask:tmpdir">tmpdir=</A>]
</h3>
<P>
<hr>
<H1>QUALIFIERS</H1>
 
  </SMALL><DL COMPACT><DT>
<B>mask_in</B>
<DD><A NAME="idl:iprocess_mask:mask_in"></A> required input: input binary
mask. It can be a FITS file, or a memory array containing the mask to process.
    <DT>
<B>distance_map</B>
<DD><A NAME="idl:iprocess_mask:distance_map"></A> optional
output: double precision angular distance map in Radians. It can be a FITS file, or a
   memory array. It will have the same ordering as the input mask.
  </DL><SMALL CLASS="FOOTNOTESIZE">

<P>
<hr><H1>KEYWORDS</H1>

  </SMALL><DL COMPACT><DT>
<B>binpath=</B>
<DD><A NAME="idl:iprocess_mask:binpath"></A> full path to back-end routine <b>default:</b>$HEXE/process_mask, then $HEALPIX/bin/process_mask
<BR>              - a binpath starting with / (or <SPAN CLASS="MATH"><IMG
 WIDTH="14" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="idlimg58.png"
 ALT="$\backslash$"></SPAN>), <SPAN CLASS="MATH">&nbsp;</SPAN> or $ is interpreted as absolute
<BR>              - a binpath starting with ./ is interpreted as relative to current directory
<BR>              - all other binpathes are relative to $HEALPIX

<P>
<DT>
<B>filled_mask=</B>
<DD><A NAME="idl:iprocess_mask:filled_mask"></A> optional output
mask with holes smaller than 
<A HREF="#idl:iprocess_mask:hole_arcmin2"><TT>hole_arcmin2</TT></A> or 
<A HREF="#idl:iprocess_mask:hole_pixels"><TT>hole_pixels</TT></A> filled in.
     Will have the same ordering as the input mask

<P>
<DT>
<B>/help</B>
<DD><A NAME="idl:iprocess_mask:help"></A> if set, prints extended help

<P>
<DT>
<B>hole_arcmin2</B>
<DD><A NAME="idl:iprocess_mask:hole_arcmin2"></A> Minimal size
(in arcmin<SPAN CLASS="MATH"><SUP>2</SUP></SPAN>) of invalid regions to be kept 
    (can be used together with <A HREF="#idl:iprocess_mask:hole_pixels"><TT>hole_pixels</TT></A>, 
     the result will be the largest of the two). <b>default:</b>0.0

<P>
<DT>
<B>hole_pixels</B>
<DD><A NAME="idl:iprocess_mask:hole_pixels"></A> Minimal size (in pixels) of invalid regions to be kept 
    (can be used together with <A HREF="#idl:iprocess_mask:hole_arcmin2"><TT>hole_arcmin2</TT></A>, 
     the result will be the largest of the two). <b>default:</b>0

<P>
<DT>
<B>/keep_tmp_files</B>
<DD><A NAME="idl:iprocess_mask:keep_tmp_files"></A> if set,
temporary files are not discarded at the end of the run

<P>
<DT>
<B>/nested</B>
<DD><A NAME="idl:iprocess_mask:nested"></A> if set, signals that the mask read online is in
   NESTED scheme (does not apply to FITS file), see also
<A HREF="#idl:iprocess_mask:ring"><TT>/ring</TT></A> and 
<A HREF="#idl:iprocess_mask:ordering"><TT>Ordering</TT></A>

<P>
<DT>
<B>ordering=</B>
<DD><A NAME="idl:iprocess_mask:ordering"></A> either 'RING' or 'NESTED', ordering of online mask,
 see 
<A HREF="#idl:iprocess_mask:ring"><TT>/ring</TT></A> and 
<A HREF="#idl:iprocess_mask:nested"><TT>/nested</TT></A>

<P>
<DT>
<B>/ring</B>
<DD><A NAME="idl:iprocess_mask:ring"></A> see 
<A HREF="#idl:iprocess_mask:nested"><TT>/nested</TT></A> and 
<A HREF="#idl:iprocess_mask:ordering"><TT>Ordering</TT></A> above

<P>
<DT>
<B>/silent</B>
<DD><A NAME="idl:iprocess_mask:silent"></A> if set, works silently

<P>
<DT>
<B>tmpdir=</B>
<DD><A NAME="idl:iprocess_mask:tmpdir"></A> directory in which are written temporary files 
<b>default:</b>IDL_TMPDIR (see IDL documentation)

<P>
</DL><SMALL CLASS="FOOTNOTESIZE">
<SMALL CLASS="FOOTNOTESIZE">  
</SMALL>
<P>
<hr> 
<H1>DESCRIPTION</H1> 
<blockquote>
<FONT COLOR="#CC0000">iprocess_mask</FONT> is an interface to '<A HREF="#fac:process_mask">process_mask</A>' F90 facility. It
requires some disk space on which to write the parameter file and the other
temporary files. Most data can be provided/generated as an external FITS
file, or as a memory array.
</blockquote>
<P>
<hr><H1>RELATED ROUTINES</H1><h3>This section lists the routines related to <b><FONT COLOR="#CC0000">iprocess_mask</FONT></b></h3>
 
  </SMALL><DL COMPACT><DT>
<B>idl</B>
<DD>version 6.4 or more is necessary to run <FONT COLOR="#CC0000">iprocess_mask</FONT>.
    <DT>
<B>process_mask</B>
<DD>F90 facility called by <FONT COLOR="#CC0000">iprocess_mask</FONT>.
    <DT>
<B><A HREF="idlnode33.htm#idl:ialteralm">ialteralm</A></B>
<DD>IDL Interface to F90 <A HREF="#fac:alteralm">alteralm</A>
    <DT>
<B><A HREF="idlnode34.htm#idl:ianafast">ianafast</A></B>
<DD>IDL Interface to F90 <A HREF="#fac:anafast">anafast</A> and C++ anafast_cxx
<DT>
<B><A HREF="idlnode38.htm#idl:ismoothing">ismoothing</A></B>
<DD>IDL Interface to F90 <A HREF="#fac:smoothing">smoothing</A>
    <DT>
<B><A HREF="idlnode39.htm#idl:isynfast">isynfast</A></B>
<DD>IDL Interface to F90 <A HREF="#fac:synfast">synfast</A>
  </DL><SMALL CLASS="FOOTNOTESIZE">

<P>
<HR><H1>EXAMPLE:</H1> 
<tt></SMALL><TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> npix = nside2npix(256) </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE">  mask = replicate(1, npix) &amp; mask[randomu(seed,100)*npix] = 0 </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE">  <FONT COLOR="#CC0000">iprocess_mask</FONT>, mask, distance, /ring, /silent </SMALL></TD>
</TR>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE">  mollview, distance</SMALL></TD>
</TR>
</TABLE><SMALL CLASS="FOOTNOTESIZE"></tt>
<blockquote>
A binary mask in which 100 randomly located pixels are 0-valued
(=invalid) is generated. Then the distance (in Radians) of the valid pixels to
the closest invalid pixels is computed and plotted.
</blockquote>
<P>
<SMALL CLASS="FOOTNOTESIZE"></SMALL>
<P>

<P>
<SMALL CLASS="FOOTNOTESIZE">
 </SMALL>
<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html675"
  HREF="idlnode36.htm">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html681"
  HREF="idl.htm">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html685"
  HREF="idlnode38.htm">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html683"
  HREF="idlnode1.htm">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Previous:</B> <A NAME="tex2html676"
  HREF="idlnode36.htm">init_healpix and !healpix system</A>

<B>Up:</B> <A NAME="tex2html682"
  HREF="idl.htm">HEALPix/IDL subroutines</A>

<B> Next:</B> <A NAME="tex2html686"
  HREF="idlnode38.htm">ismoothing</A>
<B> Top:</B> <a href="main.htm">Main Page</a></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Version 3.31, 2016-08-26
</ADDRESS>
</BODY>
</HTML>
