<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.1//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>query_polygon </TITLE>
<META NAME="description" CONTENT="query_polygon ">
<META NAME="keywords" CONTENT="idl">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<meta name="viewport" content="width=device-width, initial-scale=1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="idl.css">

<LINK REL="next" HREF="idlnode56.htm">
<LINK REL="previous" HREF="idlnode54.htm">
<LINK REL="up" HREF="idl.htm">
<LINK REL="next" HREF="idlnode56.htm">
</HEAD>

<BODY >

<DIV CLASS="navigation"><body text="#000000" bgcolor="#FFFFFA">
<!--Navigation Panel-->
<A NAME="tex2html891"
  HREF="idlnode54.htm">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html897"
  HREF="idl.htm">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html901"
  HREF="idlnode56.htm">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html899"
  HREF="idlnode1.htm">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Previous:</B> <A NAME="tex2html892"
  HREF="idlnode54.htm">query_disc</A>

<B>Up:</B> <A NAME="tex2html898"
  HREF="idl.htm">HEALPix/IDL subroutines</A>

<B> Next:</B> <A NAME="tex2html902"
  HREF="idlnode56.htm">query_strip</A>
<B> Top:</B> <a href="main.htm">Main Page</a></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION000550000000000000000"></A>
<A NAME="idl:query_polygon"></A>
<BR>
 
</H1>
<P>
<b><font size=+6><FONT COLOR="#CC0000">query_polygon </FONT></font></b><hr>
<H3>This IDL facility provides a means to find the index of all pixels belonging to
a sperical polygon defined by its vertices
</H3>
Location in HEALPix directory tree: <a href="http://sourceforge.net/p/healpix/code/845/tree/trunk/src/idl/toolkit/query_polygon.pro"><b>src/idl/toolkit/query_polygon.pro</b></a>&nbsp;  
<P>
<hr><h1>FORMAT </h1><h3>IDL>
query_polygon , <A HREF="#idl:query_polygon:Nside">Nside</A>, <A HREF="#idl:query_polygon:Vlist">Vlist</A>, <A HREF="#idl:query_polygon:Listpix">Listpix</A>, [<A HREF="#idl:query_polygon:Nlist">Nlist</A>, <A HREF="#idl:query_polygon:HELP">HELP=</A>, <A HREF="#idl:query_polygon:NESTED">NESTED=</A>, <A HREF="#idl:query_polygon:INCLUSIVE">INCLUSIVE=</A>]
</h3>
<P>
<hr>
<H1>QUALIFIERS</H1>
 
  </SMALL><DL COMPACT><DT>
<B>Nside<A NAME="idl:query_polygon:Nside"></A></B>
<DD><b>HEALPix</b> resolution parameter used to index the pixel list (scalar integer)
    <DT>
<B>Vlist<A NAME="idl:query_polygon:Vlist"></A></B>
<DD>3D cartesian position vector of the polygon vertices. Array of
    dimension (n,3) where n is the number of vertices
    <DT>
<B>Listpix<A NAME="idl:query_polygon:Listpix"></A></B>
<DD>on output: list of ordered index for the pixels found 
    in the polygon. The RING numbering scheme is used unless the keyword <TT>NESTED</TT> is set.
     (=-1 if the polygon is too small and no pixel is found)
    <DT>
<B>Nlist<A NAME="idl:query_polygon:Nlist"></A></B>
<DD>on output: number of pixels in Listpix (=0 if no pixel is found).
  </DL><SMALL CLASS="FOOTNOTESIZE">

<P>
<hr><H1>KEYWORDS</H1>

  </SMALL><DL COMPACT><DT>
<B>HELP<A NAME="idl:query_polygon:HELP"></A>=</B>
<DD>if set, the documentation header is printed out and the
routine exits
    <DT>
<B>NESTED<A NAME="idl:query_polygon:NESTED"></A>=</B>
<DD>if set, the output list uses the NESTED numbering scheme
    instead of the default RING
    <DT>
<B>INCLUSIVE<A NAME="idl:query_polygon:INCLUSIVE"></A>= </B>
<DD>if set, all the pixels overlapping (even partially)
                   with the polygon are listed, otherwise only those whose
                   center lies within the polygon are listed
  </DL><SMALL CLASS="FOOTNOTESIZE">
<SMALL CLASS="FOOTNOTESIZE">  
</SMALL>
<P>
<hr> 
<H1>DESCRIPTION</H1> 
<blockquote>
query_polygon finds the pixels within the given polygon in a selective way WITHOUT
scanning all the sky pixels. The polygon should be convex, 
or have only one concave vertex. The edges should not intersect each other. 
The numbering scheme of the output list and the
inclusiveness of the polygon can be changed
</blockquote>
<P>
<hr><H1>RELATED ROUTINES</H1><h3>This section lists the routines related to <b><FONT COLOR="#CC0000">query_polygon </FONT></b></h3>
 
  </SMALL><DL COMPACT><DT>
<B>idl</B>
<DD>version 6.4 or more is necessary to run query_polygon .
    <DT>
<B>ang2pix, pix2ang</B>
<DD>conversion between angles and pixel index
    <DT>
<B>vec2pix, pix2vec</B>
<DD>conversion between vector and pixel index
    <DT>
<B><A HREF="idlnode54.htm#idl:query_disc">query_disc</A>, <A HREF="#idl:query_polygon">query_polygon</A>,</B>
<DD><DT>
<B><A HREF="idlnode56.htm#idl:query_strip">query_strip</A>, <A HREF="idlnode57.htm#idl:query_triangle">query_triangle</A></B>
<DD>render the list of pixels enclosed
  respectively in a given disc, polygon, latitude strip and triangle
  </DL><SMALL CLASS="FOOTNOTESIZE">

<P>
<HR><H1>EXAMPLE:</H1> 
<tt></SMALL><TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT"><SMALL CLASS="FOOTNOTESIZE"> query_polygon ,  256L, [[0,1,1,0],[0,0,1,1],[1,0,-1,0]], listpix, nlist</SMALL></TD>
</TR>
</TABLE><SMALL CLASS="FOOTNOTESIZE"></tt>
<blockquote>
On return listpix contains the index of the (131191) pixels contained in the
polygon with vertices of cartesian coordinates (0,0,1), (1,0,0), (1,1,-1) and (0,1,0).
The pixel indices correspond to the RING scheme with resolution 256.
</blockquote>
<P>
<SMALL CLASS="FOOTNOTESIZE"></SMALL>
<P>

<P>
<SMALL CLASS="FOOTNOTESIZE">
 </SMALL>
<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html891"
  HREF="idlnode54.htm">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html897"
  HREF="idl.htm">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html901"
  HREF="idlnode56.htm">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html899"
  HREF="idlnode1.htm">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Previous:</B> <A NAME="tex2html892"
  HREF="idlnode54.htm">query_disc</A>

<B>Up:</B> <A NAME="tex2html898"
  HREF="idl.htm">HEALPix/IDL subroutines</A>

<B> Next:</B> <A NAME="tex2html902"
  HREF="idlnode56.htm">query_strip</A>
<B> Top:</B> <a href="main.htm">Main Page</a></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Version 3.31, 2016-08-26
</ADDRESS>
</BODY>
</HTML>
